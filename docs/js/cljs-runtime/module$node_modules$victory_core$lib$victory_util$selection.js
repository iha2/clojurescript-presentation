shadow$provide.module$node_modules$victory_core$lib$victory_util$selection=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$lodash$isFunction");var _isFunction3=_interopRequireDefault(global);global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);global=require("module$node_modules$victory_core$lib$victory_util$data");
var _data2=_interopRequireDefault(global);require=require("module$node_modules$victory_core$lib$victory_util$collection");var _collection2=_interopRequireDefault(require);exports.default={getParentSVG:function(target){return"svg"===target.nodeName?target:this.getParentSVG(target.parentNode)},getTransformationMatrix:function(svg){return svg.getScreenCTM().inverse()},getSVGEventCoordinates:function(evt){if("undefined"===typeof document)return{x:evt.nativeEvent.locationX,y:evt.nativeEvent.locationY};
var svg=this.getParentSVG(evt.target);svg=this.getTransformationMatrix(svg);return{x:this.transformTarget(evt.clientX,svg,"x"),y:this.transformTarget(evt.clientY,svg,"y")}},transformTarget:function(target,matrix,dimension){var a=matrix.a,d=matrix.d,e=matrix.e;matrix=matrix.f;return"y"===dimension?d*target+matrix:a*target+e},getDomainCoordinates:function(scale,domain){domain=domain||{x:scale.x.domain(),y:scale.y.domain()};return{x:[scale.x(domain.x[0]),scale.x(domain.x[1])],y:[scale.y(domain.y[0]),
scale.y(domain.y[1])]}},getDataCoordinates:function(scale,x,y){return{x:scale.x.invert(x),y:scale.y.invert(y)}},getBounds:function(props){var x2=props.x2,y2=props.y2,scale=props.scale;props=this.getDataCoordinates(scale,props.x1,props.y1);x2=this.getDataCoordinates(scale,x2,y2);y2=function(a,b){return[_collection2.default.getMinValue([a,b]),_collection2.default.getMaxValue([a,b])]};return{x:y2(props.x,x2.x),y:y2(props.y,x2.y)}},getDatasets:function(props){if(props.data)return[{data:props.data}];props=
_react2.default.Children.toArray(props.children).reverse();for(var childrenLength=props.length,dataArr=[],dataArrLength=0,childIndex=0;0<childrenLength;){var child=props[--childrenLength],childName=child.props.name||childIndex;childIndex++;if(child.type&&"axis"===child.type.role)childIndex++;else if(child.type&&(0,_isFunction3.default)(child.type.getData))dataArr[dataArrLength++]={childName:childName,data:child.type.getData(child.props)};else if(child.props&&child.props.children){var newChildren=
_react2.default.Children.toArray(child.props.children);childName=newChildren.length;for(child=0;child<childName;child++)props[childrenLength++]=newChildren[child]}else newChildren=dataArrLength++,child=_data2.default.getData(child.props),child=Array.isArray(child)&&0<child.length?child:void 0,dataArr[newChildren]={childName:childName,data:child}}return dataArr},filterDatasets:function(datasets,bounds){var _this=this;datasets=datasets.reduce(function(memo,dataset){var selectedData=_this.getSelectedData(dataset.data,
bounds);return memo=selectedData?memo.concat({childName:dataset.childName,eventKey:selectedData.eventKey,data:selectedData.data}):memo},[]);return datasets.length?datasets:null},getSelectedData:function(dataset,bounds){var x=bounds.x,y=bounds.y;dataset=dataset.reduce(function(accum,datum,index){datum._x>=x[0]&&datum._x<=x[1]&&datum._y>=y[0]&&datum._y<=y[1]&&(accum.data.push(datum),accum.eventKey.push(void 0===datum.eventKey?index:datum.eventKey));return accum},{data:[],eventKey:[]});return 0<dataset.data.length?
dataset:null}}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$selection.js.map
