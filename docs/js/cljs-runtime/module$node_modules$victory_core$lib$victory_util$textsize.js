shadow$provide.module$node_modules$victory_core$lib$victory_util$textsize=function(global,process,require,module,exports,shadow$shims){function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0});var _defaults3=(global=require("module$node_modules$lodash$defaults"))&&global.__esModule?global:{default:global},_merge3=(require=require("module$node_modules$lodash$merge"))&&
require.__esModule?require:{default:require},fontDictionary={"American Typewriter":2.09,Baskerville:2.51,Georgia:2.27,"Hoefler Text":2.39,Palatino:2.26,"Times New Roman":2.48,Arial:2.26,"Gill Sans":2.47,"Gill Sans 300":2.58,"Helvetica Neue":2.24,"Lucida Grande":2.05,Tahoma:2.25,"Trebuchet MS":2.2,Verdana:1.96,"Courier New":1.67,cursive:1.84,fantasy:2.09,monospace:1.81,serif:2.04,"sans-serif":1.89},absoluteMeasurementUnitsToPixels={mm:3.8,sm:38,pt:1.33,pc:16,"in":96,px:1},relativeMeasurementUnitsCoef=
{em:1,ex:.5},coefficients={averageFontConstant:2.1675,widthOverlapCoef:1.25,heightOverlapCoef:1.05,lineCapitalCoef:1.15,lineSpaceHeightCoef:.2},defaultStyle={lineHeight:1,letterSpacing:"0px",fontSize:0,angle:0,fontFamily:""},_splitToLines=function(text){return Array.isArray(text)?text:text.toString().split(/\r\n|\r|\n/g)},_getSizeWithRotate=function(axisSize,dependentSize,angle){angle=angle*Math.PI/180;return Math.abs(Math.cos(angle)*axisSize)+Math.abs(Math.sin(angle)*dependentSize)},convertLengthToPixels=
function(length,fontSize){var attribute=length.match(/[a-zA-Z%]+/)[0];length=length.match(/[0-9.,]+/);return absoluteMeasurementUnitsToPixels.hasOwnProperty(attribute)?length*absoluteMeasurementUnitsToPixels[attribute]:relativeMeasurementUnitsCoef.hasOwnProperty(attribute)?(fontSize?length*fontSize:length*coefficients.defaultFontSize)*relativeMeasurementUnitsCoef[attribute]:length},_prepareParams=function(inputStyle,index){inputStyle=Array.isArray(inputStyle)?inputStyle[index]:inputStyle;inputStyle=
(0,_defaults3.default)({},inputStyle,defaultStyle);index=(0,_merge3.default);var JSCompiler_temp;(JSCompiler_temp=inputStyle.characterConstant)||(JSCompiler_temp=inputStyle.fontFamily.split(",")[0].replace(/'|"/g,""),JSCompiler_temp=fontDictionary[JSCompiler_temp]||coefficients.averageFontConstant);return index({},inputStyle,{characterConstant:JSCompiler_temp,letterSpacing:convertLengthToPixels(inputStyle.letterSpacing,inputStyle.fontSize),fontSize:"number"===typeof inputStyle.fontSize?inputStyle.fontSize:
convertLengthToPixels(String(inputStyle.fontSize))})},_approximateTextWidthInternal=function(text,style){text=_splitToLines(text).map(function(line,index){line=line.toString().length;index=_prepareParams(style,index);return line*index.fontSize/index.characterConstant+index.letterSpacing*Math.max(line-1,0)});return Math.max.apply(Math,_toConsumableArray(text))},_approximateTextHeightInternal=function(text,style){return _splitToLines(text).reduce(function(total,line,index){line=_prepareParams(style,
index);return total+line.lineHeight*(line.fontSize*coefficients.lineCapitalCoef+(0===index?0:line.fontSize*coefficients.lineSpaceHeightCoef))},0)};exports.default={approximateTextSize:function(text,style){var angle=Array.isArray(style)?style[0]&&style[0].angle:style&&style.angle,height=_approximateTextHeightInternal(text,style);style=_approximateTextWidthInternal(text,style);text=angle?_getSizeWithRotate(style,height,angle):style;angle=angle?_getSizeWithRotate(height,style,angle):height;return{width:text*
coefficients.widthOverlapCoef,height:angle*coefficients.heightOverlapCoef}},convertLengthToPixels:convertLengthToPixels}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$textsize.js.map
