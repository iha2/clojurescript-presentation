shadow$provide.module$node_modules$react_live$dist$react_live_cjs=function(global,process,require,module,exports,shadow$shims){function _interopDefault(ex){return ex&&"object"===typeof ex&&"default"in ex?ex["default"]:ex}function position(el,pos){var selection=window.getSelection();if(1==arguments.length){if(!selection.rangeCount)return;var indexes={};selection=selection.getRangeAt(0);var clone=selection.cloneRange();clone.selectNodeContents(el);clone.setEnd(selection.endContainer,selection.endOffset);
indexes.end=clone.toString().length;clone.setStart(selection.startContainer,selection.startOffset);indexes.start=indexes.end-clone.toString().length;indexes.atStart=0===clone.startOffset;indexes.commonAncestorContainer=clone.commonAncestorContainer;indexes.endContainer=clone.endContainer;indexes.startContainer=clone.startContainer;return indexes}clone=pos.end&&pos.end!==pos.start;var length=0;selection=document.createRange();for(var it=iterator(el).select(Node.TEXT_NODE).revisit(!1),next,start=pos.start>
el.textContent.length?el.textContent.length:pos.start,end=pos.end>el.textContent.length?el.textContent.length:pos.end,atStart=pos.atStart;next=it.next();){var olen=length;length+=next.textContent.length;var atLength=atStart?length>start:length>=start;if(!indexes&&atLength&&(indexes=!0,selection.setStart(next,start-olen),!clone)){selection.collapse(!0);makeSelection(el,selection);break}if(clone&&length>=end){selection.setEnd(next,end-olen);makeSelection(el,selection);break}}}function makeSelection(el,
range){var selection=window.getSelection();el.focus();selection.removeAllRanges();selection.addRange(range)}Object.defineProperty(exports,"__esModule",{value:!0});var prismCore=require("module$node_modules$prismjs$components$prism_core");require("module$node_modules$prismjs$components$prism_clike");require("module$node_modules$prismjs$components$prism_javascript");require("module$node_modules$prismjs$components$prism_markup");require("module$node_modules$prismjs$components$prism_jsx");var unescape=
_interopDefault(require("module$node_modules$unescape$index")),iterator=_interopDefault(require("module$node_modules$dom_iterator$index")),React=require("module$node_modules$react$index"),React__default=_interopDefault(React),buble=require("module$node_modules$buble$dist$buble_cjs");global=_interopDefault(require("module$node_modules$core_js$fn$object$assign"));require=_interopDefault(require("module$node_modules$prop_types$index"));var cn=function(){for(var _len=arguments.length,args=Array(_len),
_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.filter(Boolean).join(" ")},prism=function(code){return prismCore.highlight(code,prismCore.languages[1<arguments.length&&void 0!==arguments[1]?arguments[1]:"jsx"])},indentRe=/^((\t|  )+)/mg,tabRe=/\t/g,normalizeCode=function(code){return code.replace(indentRe,function(_,indentation){return indentation.replace(tabRe,"  ")})},getLine=function(plain,cursorPos){plain=plain.slice(0,cursorPos);cursorPos=plain.lastIndexOf("\n")+1;return plain.slice(cursorPos)},
indentRe$1=/^\s+/,deindentSpacesRe=/^(\t|  )*  $/,classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},inherits=function(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)},objectWithoutProperties=function(obj,keys){var target={},i;for(i in obj)0<=keys.indexOf(i)||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target},possibleConstructorReturn=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!call||"object"!==typeof call&&"function"!==typeof call?self:call},Editor=function(_Component){function Editor(){var _temp,_this,_ret;classCallCheck(this,Editor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=possibleConstructorReturn(this,_Component.call.apply(_Component,[this].concat(args))),_this),_this.undoStack=[],_this.undoOffset=0,_this.undoTimestamp=0,_this.compositing=!1,_this.state={html:""},_this.onRef=function(node){_this.ref=
node},_this.getPlain=function(){if(_this._innerHTML===_this.ref.innerHTML)return _this._plain;var plain=unescape(_this.ref.innerHTML.replace("\n","\x3cbr\x3e").replace(/<br>/gm,"\n").replace(/<\/?[^>]*>/gm,""));_this._plain=plain;_this._innerHTML=_this.ref.innerHTML;return _this._plain},_this.recordChange=function(plain,selection){if(plain!==_this.undoStack[_this.undoStack.length-1]){0<_this.undoOffset&&(_this.undoStack=_this.undoStack.slice(0,-_this.undoOffset),_this.undoOffset=0);var timestamp=
Date.now();plain={plain:plain,selection:selection};3E3>timestamp-_this.undoTimestamp?_this.undoStack[_this.undoStack.length-1]=plain:(_this.undoStack.push(plain),50<_this.undoStack.length&&_this.undoStack.shift());_this.undoTimestamp=timestamp}},_this.updateContent=function(plain){if(!_this.compositing&&(_this.setState({html:prism(plain,_this.props.language)}),_this.props.onChange))_this.props.onChange(plain)},_this.restoreStackState=function(offset){var _this$undoStack=_this.undoStack[_this.undoStack.length-
1-offset],plain=_this$undoStack.plain;_this.selection=_this$undoStack.selection;_this.undoOffset=offset;_this.updateContent(plain)},_this.undo=function(){var offset=_this.undoOffset+1;offset>=_this.undoStack.length||_this.restoreStackState(offset)},_this.redo=function(){var offset=_this.undoOffset-1;0>offset||_this.restoreStackState(offset)},_this.onKeyDown=function(evt){if(_this.props.onKeyDown)_this.props.onKeyDown(evt);if(9!==evt.keyCode||_this.props.ignoreTabKey)if(8===evt.keyCode){var _selectionRange=
position(_this.ref),cursorPos=_selectionRange.start;if(cursorPos===_selectionRange.end&&(_selectionRange=_this.getPlain(),cursorPos=getLine(_selectionRange,cursorPos),cursorPos=deindentSpacesRe.test(cursorPos)?2:0,!(0>=cursorPos))){for(_selectionRange=0;_selectionRange<cursorPos;_selectionRange++)document.execCommand("delete",!1);evt.preventDefault()}}else 13===evt.keyCode?(cursorPos=position(_this.ref).start,_selectionRange=_this.getPlain(),cursorPos=getLine(_selectionRange,cursorPos).match(indentRe$1),
cursorPos=null===cursorPos?"":cursorPos[0]||"",document.execCommand("insertHTML",!1,"\n"+cursorPos),evt.preventDefault()):90!==evt.keyCode||evt.metaKey===evt.ctrlKey||evt.altKey||(evt.shiftKey?_this.redo():_this.undo(),evt.preventDefault());else document.execCommand("insertHTML",!1,"  "),evt.preventDefault()},_this.onKeyUp=function(evt){if(_this.props.onKeyUp)_this.props.onKeyUp(evt);91===evt.keyCode||93===evt.keyCode||evt.ctrlKey||evt.metaKey||(13===evt.keyCode&&(_this.undoTimestamp=0),_this.selection=
position(_this.ref),37!==evt.keyCode&&38!==evt.keyCode&&39!==evt.keyCode&&40!==evt.keyCode?(evt=_this.getPlain(),_this.recordChange(evt,_this.selection),_this.updateContent(evt)):_this.undoTimestamp=0)},_this.onCompositionStart=function(evt){if(_this.props.onCompositionStart)_this.props.onCompositionStart(evt);_this.compositing=!0},_this.onCompositionEnd=function(evt){if(_this.props.onCompositionEnd)_this.props.onCompositionEnd(evt);_this.compositing=!1},_this.onClick=function(evt){if(_this.props.onClick)_this.props.onClick(evt);
_this.undoTimestamp=0;_this.selection=position(_this.ref)},_temp),possibleConstructorReturn(_this,_ret)}inherits(Editor,_Component);Editor.prototype.componentWillMount=function(){var html=prism(normalizeCode(this.props.code),this.props.language);this.setState({html:html})};Editor.prototype.componentDidMount=function(){this.recordChange(this.getPlain());this.undoTimestamp=0};Editor.prototype.componentWillReceiveProps=function(_ref){var code=_ref.code;_ref=_ref.language;if(code!==this.props.code||_ref!==
this.props.language)code=prism(normalizeCode(code),_ref),this.setState({html:code})};Editor.prototype.componentDidUpdate=function(){var selection=this.selection;selection&&position(this.ref,selection)};Editor.prototype.render=function(){var _props=this.props,contentEditable=_props.contentEditable,className=_props.className,style=_props.style;_props=objectWithoutProperties(_props,"contentEditable className style code ignoreTabKey language".split(" "));var html=this.state.html;return React__default.createElement("pre",
_extends({},_props,{ref:this.onRef,className:cn("prism-code",className),style:style,spellCheck:"false",contentEditable:contentEditable,onCompositionEnd:contentEditable?this.onCompositionEnd:void 0,onCompositionStart:contentEditable?this.onCompositionStart:void 0,onKeyDown:contentEditable?this.onKeyDown:void 0,onKeyUp:contentEditable?this.onKeyUp:void 0,onClick:contentEditable?this.onClick:void 0,dangerouslySetInnerHTML:{__html:html}}))};return Editor}(React.Component);Editor.defaultProps={contentEditable:!0,
language:"jsx"};var _poly={assign:global},opts={objectAssign:"_poly.assign",transforms:{dangerousForOf:!0,dangerousTaggedTemplateString:!0}},errorBoundary=function(Element,errorCallback){return function(_React$Component){function ErrorBoundary(){classCallCheck(this,ErrorBoundary);return possibleConstructorReturn(this,_React$Component.apply(this,arguments))}inherits(ErrorBoundary,_React$Component);ErrorBoundary.prototype.componentDidCatch=function(error){errorCallback(error)};ErrorBoundary.prototype.render=
function(){return"function"===typeof Element?React__default.createElement(Element,null):Element};return ErrorBoundary}(React__default.Component)},evalCode=function(code,scope){var scopeKeys=Object.keys(scope),scopeValues=scopeKeys.map(function(key){return scope[key]});return(new (Function.prototype.bind.apply(Function,[null].concat(["_poly","React"],scopeKeys,[code])))).apply(void 0,[_poly,React__default].concat(scopeValues))},generateElement=function(_ref,errorCallback){var _ref$code=_ref.code;_ref=
_ref.scope;_ref=void 0===_ref?{}:_ref;_ref$code=(void 0===_ref$code?"":_ref$code).trim().replace(/;$/,"");_ref$code=buble.transform("("+_ref$code+")",opts).code.trim();return errorBoundary(evalCode("return "+_ref$code,_ref),errorCallback)},renderElementAsync=function(_ref2,resultCallback,errorCallback){var _ref2$code=_ref2.code;_ref2$code=void 0===_ref2$code?"":_ref2$code;_ref2=_ref2.scope;_ref2=void 0===_ref2?{}:_ref2;if(!/render\s*\(/.test(_ref2$code))return errorCallback(new SyntaxError("No-Inline evaluations must call `render`."));
evalCode(buble.transform(_ref2$code,opts).code,_extends({},_ref2,{render:function(element){resultCallback(errorBoundary(element,errorCallback))}}))},prismStyling=React__default.createElement("style",{dangerouslySetInnerHTML:{__html:"\n.prism-code {\n  display: block;\n  white-space: pre;\n\n  background-color: #1D1F21;\n  color: #C5C8C6;\n\n  padding: 0.5rem;\n  margin: 0;\n\n  box-sizing: border-box;\n  vertical-align: baseline;\n  outline: none;\n  text-shadow: none;\n  -webkit-hyphens: none;\n  -ms-hyphens: none;\n  hyphens: none;\n  word-wrap: normal;\n  word-break: normal;\n  text-align: left;\n  word-spacing: normal;\n  -moz-tab-size: 2;\n  -o-tab-size: 2;\n  tab-size: 2;\n}\n\n.token.comment,\n.token.prolog,\n.token.doctype,\n.token.cdata {\n  color: hsl(30, 20%, 50%);\n}\n\n.token.punctuation {\n  opacity: .7;\n}\n\n.namespace {\n  opacity: .7;\n}\n\n.token.property,\n.token.tag,\n.token.boolean,\n.token.number,\n.token.constant,\n.token.symbol {\n  color: hsl(350, 40%, 70%);\n}\n\n.token.selector,\n.token.attr-name,\n.token.string,\n.token.char,\n.token.builtin,\n.token.inserted {\n  color: hsl(75, 70%, 60%);\n}\n\n.token.operator,\n.token.entity,\n.token.url,\n.language-css .token.string,\n.style .token.string,\n.token.variable {\n  color: hsl(40, 90%, 60%);\n}\n\n.token.atrule,\n.token.attr-value,\n.token.keyword {\n  color: hsl(350, 40%, 70%);\n}\n\n.token.regex,\n.token.important {\n  color: #e90;\n}\n\n.token.important,\n.token.bold {\n  font-weight: bold;\n}\n.token.italic {\n  font-style: italic;\n}\n\n.token.entity {\n  cursor: help;\n}\n\n.token.deleted {\n  color: red;\n}\n"}}),
Style=function(){return prismStyling},LiveContextTypes={live:require.shape({code:require.string,error:require.string,onError:require.func,onChange:require.func,element:require.oneOfType([require.string,require.number,require.element,require.func])})};require=function(_Component){function LiveProvider(){var _temp,_this,_ret;classCallCheck(this,LiveProvider);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _ret=(_temp=(_this=possibleConstructorReturn(this,
_Component.call.apply(_Component,[this].concat(args))),_this),_this.onChange=function(code){var _this$props=_this.props;_this.transpile({code:code,scope:_this$props.scope,transformCode:_this$props.transformCode,noInline:_this$props.noInline})},_this.onError=function(error){_this.setState({error:error.toString()})},_this.transpile=function(_ref){var code=_ref.code,scope=_ref.scope,transformCode=_ref.transformCode;_ref=_ref.noInline;_ref=void 0===_ref?!1:_ref;code={code:transformCode?transformCode(code):
code,scope:scope};scope=function(err){return _this.setState({element:void 0,error:err.toString()})};transformCode=function(element){return _this.setState(_extends({},state,{element:element}))};var state={unsafeWrapperError:void 0,error:void 0};try{_ref?(_this.setState(_extends({},state,{element:null})),renderElementAsync(code,transformCode,scope)):transformCode(generateElement(code,scope))}catch(error){_this.setState(_extends({},state,{error:error.toString()}))}},_this.getChildContext=function(){return{live:_extends({},
_this.state,{code:_this.props.code,onError:_this.onError,onChange:_this.onChange})}},_temp),possibleConstructorReturn(_this,_ret)}inherits(LiveProvider,_Component);LiveProvider.prototype.componentWillMount=function(){var _props=this.props;this.transpile({code:_props.code,scope:_props.scope,transformCode:_props.transformCode,noInline:_props.noInline})};LiveProvider.prototype.componentWillReceiveProps=function(_ref2){var code=_ref2.code,scope=_ref2.scope,noInline=_ref2.noInline;_ref2=_ref2.transformCode;
code===this.props.code&&scope===this.props.scope&&noInline===this.props.noInline&&_ref2===this.props.transformCode||this.transpile({code:code,scope:scope,transformCode:_ref2,noInline:noInline})};LiveProvider.prototype.render=function(){var _props2=this.props,children=_props2.children,className=_props2.className,mountStylesheet=_props2.mountStylesheet;_props2=objectWithoutProperties(_props2,"children className code mountStylesheet noInline transformCode scope".split(" "));return React__default.createElement("div",
_extends({className:cn("react-live",className)},_props2),mountStylesheet&&React__default.createElement(Style,null),children)};return LiveProvider}(React.Component);require.childContextTypes=LiveContextTypes;require.defaultProps={code:"",mountStylesheet:!0,noInline:!1};global=function(props,_ref){var live=_ref.live;return React__default.createElement(Editor,_extends({},props,{code:live.code,onChange:function(code){live.onChange(code);if("function"===typeof props.onChange)props.onChange(code)}}))};
global.contextTypes=LiveContextTypes;process=function(_ref,_ref2){_ref2=_ref2.live;var className=_ref.className;_ref=objectWithoutProperties(_ref,["className"]);return _ref2.error?React__default.createElement("div",_extends({},_ref,{className:cn("react-live-error",className)}),_ref2.error):null};process.contextTypes=LiveContextTypes;module=function(_ref,_ref2){_ref2=_ref2.live.element;var className=_ref.className;_ref=objectWithoutProperties(_ref,["className"]);return React__default.createElement("div",
_extends({},_ref,{className:cn("react-live-preview",className)}),_ref2&&React__default.createElement(_ref2,null))};module.contextTypes=LiveContextTypes;exports.Editor=Editor;exports.LiveProvider=require;exports.LiveEditor=global;exports.LiveError=process;exports.LivePreview=module;exports.withLive=function(WrappedComponent){var WithLive=function(_Component){function WithLive(){classCallCheck(this,WithLive);return possibleConstructorReturn(this,_Component.apply(this,arguments))}inherits(WithLive,_Component);
WithLive.prototype.render=function(){return React__default.createElement(WrappedComponent,_extends({live:this.context.live},this.props))};return WithLive}(React.Component);WithLive.contextTypes=LiveContextTypes;return WithLive};exports.generateElement=generateElement;exports.renderElementAsync=renderElementAsync}
//# sourceMappingURL=module$node_modules$react_live$dist$react_live_cjs.js.map
