shadow$provide.module$node_modules$victory_core$lib$victory_legend$victory_legend=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$lodash$maxBy");var _maxBy3=_interopRequireDefault(global);global=require("module$node_modules$lodash$sumBy");var _sumBy3=_interopRequireDefault(global);
global=require("module$node_modules$lodash$defaults");var _defaults3=_interopRequireDefault(global);global=require("module$node_modules$lodash$isEmpty");var _isEmpty3=_interopRequireDefault(global);global=require("module$node_modules$lodash$merge");var _merge3=_interopRequireDefault(global),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},
_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();global=require("module$node_modules$react$index");
var _react2=_interopRequireDefault(global);global=require("module$node_modules$prop_types$index");global=_interopRequireDefault(global);process=require("module$node_modules$victory_core$lib$victory_util$prop_types");process=_interopRequireDefault(process);module=require("module$node_modules$victory_core$lib$victory_util$style");var _style2=_interopRequireDefault(module);module=require("module$node_modules$victory_core$lib$victory_util$textsize");var _textsize2=_interopRequireDefault(module);module=
require("module$node_modules$victory_core$lib$victory_util$helpers");var _helpers2=_interopRequireDefault(module);module=require("module$node_modules$victory_core$lib$victory_label$victory_label");module=_interopRequireDefault(module);shadow$shims=require("module$node_modules$victory_core$lib$victory_container$victory_container");shadow$shims=_interopRequireDefault(shadow$shims);var _victoryTheme=require("module$node_modules$victory_core$lib$victory_theme$victory_theme");_victoryTheme=_interopRequireDefault(_victoryTheme);
require=require("module$node_modules$victory_core$lib$victory_primitives$point");require=_interopRequireDefault(require);var defaultLegendData=[{name:"Series 1"},{name:"Series 2"}],VictoryLegend=function(_React$Component){function VictoryLegend(){if(!(this instanceof VictoryLegend))throw new TypeError("Cannot call a class as a function");var call=(VictoryLegend.__proto__||Object.getPrototypeOf(VictoryLegend)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!call||"object"!==typeof call&&"function"!==typeof call?this:call}_inherits(VictoryLegend,_React$Component);_createClass(VictoryLegend,[{key:"calculateLegendHeight",value:function(textSizes,padding,isHorizontal){var _props=this.props,gutter=_props.gutter,itemsPerRow=_props.itemsPerRow;_props=textSizes.length;itemsPerRow=itemsPerRow?Math.ceil(_props/itemsPerRow):1;textSizes=isHorizontal?(0,_maxBy3.default)(textSizes,"height").height*itemsPerRow+gutter*(itemsPerRow-1):((0,_sumBy3.default)(textSizes,
"height")+gutter*(_props-1))/itemsPerRow;return padding.top+textSizes+padding.bottom}},{key:"calculateLegendWidth",value:function(itemCount,padding,isHorizontal,maxTextWidth){var _props2=this.props,gutter=_props2.gutter,itemsPerRow=_props2.itemsPerRow;_props2=_props2.symbolSpacer;var rowCount=itemsPerRow?Math.ceil(itemCount/itemsPerRow):1;itemCount=itemsPerRow||itemCount;return padding.left+(isHorizontal?3*_props2*itemCount+maxTextWidth*itemCount+gutter*itemCount:(maxTextWidth+2*_props2+gutter)*rowCount)+
padding.right}},{key:"getColorScale",value:function(theme){var colorScaleOptions=this.props.colorScale||theme.colorScale;"string"===typeof colorScaleOptions&&(colorScaleOptions=_style2.default.getColorScale(colorScaleOptions));return(0,_isEmpty3.default)(theme)?colorScaleOptions||[]:colorScaleOptions||theme.colorScale}},{key:"getCalculatedProps",value:function(){var _this2=this,role=this.constructor.role,_props3=this.props,data=_props3.data,orientation=_props3.orientation,legendTheme=(_props3=_props3.theme)&&
_props3[role]?_props3[role]:{};role=this.getStyles({},legendTheme,"parent");var colorScale=this.getColorScale(legendTheme);orientation="horizontal"===orientation;var symbolStyles=[],labelStyles=[],_props4=this.props,height=_props4.height,padding=_props4.padding;_props4=_props4.width;var maxTextWidth=0;padding=_helpers2.default.getPadding({padding:padding||_props3.padding});height=_helpers2.default.evaluateProp(height||_props3.height,data);_props4=_helpers2.default.evaluateProp(_props4||_props3.width,
data);data=data.map(function(datum,i){var labelStyle=_this2.getStyles(datum,legendTheme,"labels"),textSize=_textsize2.default.approximateTextSize(datum.name,labelStyle);maxTextWidth=textSize.width>maxTextWidth?textSize.width:maxTextWidth;symbolStyles[i]=_this2.getStyles(datum,legendTheme,"symbol",colorScale[i]);labelStyles[i]=labelStyle;return textSize});height||(height=this.calculateLegendHeight(data,padding,orientation));_props4||(_props4=this.calculateLegendWidth(data.length,padding,orientation,
maxTextWidth));return _extends({},this.props,{isHorizontal:orientation,height:height,labelStyles:labelStyles,maxTextWidth:maxTextWidth,padding:padding,parentStyles:role,symbolStyles:symbolStyles,width:_props4})}},{key:"getStyles",value:function(datum,theme,key,color){var style=this.props.style,styleKey="symbol"===key?"data":key;color=color?{fill:color}:{};theme=(0,_merge3.default)({},theme.style[styleKey],color,style[styleKey],datum[key]);return _helpers2.default.evaluateStyle(theme,datum)}},{key:"getSymbolSize",
value:function(datum,fontSize){return datum.symbol&&datum.symbol.size?datum.symbol.size:fontSize/2.5}},{key:"getSymbolProps",value:function(datum,props,i){var dataComponent=props.dataComponent,gutter=props.gutter,isHorizontal=props.isHorizontal,itemsPerRow=props.itemsPerRow,maxTextWidth=props.maxTextWidth,padding=props.padding,symbolSpacer=props.symbolSpacer,fontSize=props.labelStyles[i].fontSize,symbolShift=fontSize/2;props=props.symbolStyles[i];var rowHeight=fontSize+gutter,itemIndex=i,rowSpacer=
0,rowIndex=0;itemsPerRow&&(rowIndex=Math.floor(i/itemsPerRow),rowSpacer=rowHeight*rowIndex,itemIndex=i%itemsPerRow);gutter=isHorizontal?{x:padding.left+symbolShift+(fontSize+symbolSpacer+maxTextWidth+gutter)*itemIndex,y:padding.top+symbolShift+rowSpacer}:{x:padding.left+symbolShift+(rowHeight+maxTextWidth)*rowIndex,y:padding.top+symbolShift+rowHeight*itemIndex};return(0,_defaults3.default)({},dataComponent.props,_extends({key:"symbol-"+i,style:props,size:this.getSymbolSize(datum,fontSize),symbol:props.type},
gutter))}},{key:"getLabelProps",value:function(datum,props,i){var gutter=props.gutter,isHorizontal=props.isHorizontal,itemsPerRow=props.itemsPerRow,labelComponent=props.labelComponent,maxTextWidth=props.maxTextWidth,padding=props.padding,style=props.labelStyles[i],fontSize=style.fontSize,symbolShift=fontSize/2,rowHeight=fontSize+gutter;props=fontSize+props.symbolSpacer;fontSize=i;var rowSpacer=0,rowIndex=0;itemsPerRow&&(rowIndex=Math.floor(i/itemsPerRow),rowSpacer=rowHeight*rowIndex,fontSize=i%itemsPerRow);
gutter=isHorizontal?{x:padding.left+props*(fontSize+1)+(maxTextWidth+gutter)*fontSize,y:padding.top+symbolShift+rowSpacer}:{x:padding.left+props+(rowHeight+maxTextWidth)*rowIndex,y:padding.top+symbolShift+rowHeight*fontSize};return(0,_defaults3.default)({},labelComponent.props,_extends({key:"label-"+i,style:style,text:datum.name},gutter))}},{key:"renderLegendItems",value:function(props){var _this3=this,data=props.data,dataComponent=props.dataComponent,labelComponent=props.labelComponent,legendData=
(0,_isEmpty3.default)(data)?defaultLegendData:data;data=legendData.map(function(datum,i){return _react2.default.cloneElement(dataComponent,_this3.getSymbolProps(datum,props,i))});legendData=legendData.map(function(datum,i){return _react2.default.cloneElement(labelComponent,_this3.getLabelProps(datum,props,i))});return[].concat(_toConsumableArray(data),_toConsumableArray(legendData))}},{key:"renderGroup",value:function(props,children){var groupComponent=props.groupComponent,height=props.height,parentStyles=
props.parentStyles,width=props.width,x=props.x,y=props.y,groupProps={role:"presentation"};props.standalone||(groupProps=_extends({height:height,width:width,transform:"translate("+x+", "+y+")",style:parentStyles},groupProps));return _react2.default.cloneElement(groupComponent,groupProps,children)}},{key:"renderContainer",value:function(props,children){return _react2.default.cloneElement(props.containerComponent,{height:props.height,width:props.width,style:props.parentStyles},children)}},{key:"render",
value:function(){var props=this.getCalculatedProps(),group=this.renderGroup(props,this.renderLegendItems(props));return props.standalone?this.renderContainer(props,group):group}}]);return VictoryLegend}(_react2.default.Component);VictoryLegend.displayName="VictoryLegend";VictoryLegend.role="legend";VictoryLegend.propTypes={colorScale:global.default.oneOfType([global.default.arrayOf(global.default.string),global.default.oneOf("grayscale qualitative heatmap warm cool red green blue".split(" "))]),containerComponent:global.default.element,
data:global.default.arrayOf(global.default.shape({name:global.default.string.isRequired,label:global.default.object,symbol:global.default.object})),dataComponent:global.default.element,groupComponent:global.default.element,gutter:global.default.number,height:global.default.oneOfType([process.default.nonNegative,global.default.func]),itemsPerRow:global.default.number,labelComponent:global.default.element,orientation:global.default.oneOf(["horizontal","vertical"]),padding:global.default.oneOfType([global.default.number,
global.default.shape({top:global.default.number,bottom:global.default.number,left:global.default.number,right:global.default.number})]),standalone:global.default.bool,style:global.default.shape({data:global.default.object,labels:global.default.object,parent:global.default.object}),symbolSpacer:global.default.number,theme:global.default.object,width:global.default.oneOfType([process.default.nonNegative,global.default.func]),x:global.default.number,y:global.default.number};VictoryLegend.defaultProps=
{data:defaultLegendData,containerComponent:_react2.default.createElement(shadow$shims.default,{__source:{fileName:"src/victory-legend/victory-legend.js",lineNumber:76}}),dataComponent:_react2.default.createElement(require.default,{__source:{fileName:"src/victory-legend/victory-legend.js",lineNumber:77}}),groupComponent:_react2.default.createElement("g",{__source:{fileName:"src/victory-legend/victory-legend.js",lineNumber:78}}),gutter:10,labelComponent:_react2.default.createElement(module.default,
{__source:{fileName:"src/victory-legend/victory-legend.js",lineNumber:80}}),orientation:"vertical",standalone:!0,style:{},symbolSpacer:8,theme:_victoryTheme.default.grayscale,x:0,y:0};exports.default=VictoryLegend}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_legend$victory_legend.js.map
