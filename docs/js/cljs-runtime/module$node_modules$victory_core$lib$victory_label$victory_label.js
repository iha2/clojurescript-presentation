shadow$provide.module$node_modules$victory_core$lib$victory_label$victory_label=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,
enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$lodash$merge");var _merge3=_interopRequireDefault(global);global=require("module$node_modules$lodash$assign");var _assign3=_interopRequireDefault(global),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;
for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,
protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);global=require("module$node_modules$prop_types$index");global=_interopRequireDefault(global);process=require("module$node_modules$victory_core$lib$victory_portal$victory_portal");var _victoryPortal2=_interopRequireDefault(process);process=require("module$node_modules$victory_core$lib$victory_util$prop_types");process=
_interopRequireDefault(process);module=require("module$node_modules$victory_core$lib$victory_util$collection");var _collection2=_interopRequireDefault(module);module=require("module$node_modules$victory_core$lib$victory_util$helpers");var _helpers2=_interopRequireDefault(module);module=require("module$node_modules$victory_core$lib$victory_util$style");var _style2=_interopRequireDefault(module);require=require("module$node_modules$victory_core$lib$victory_util$log");var _log2=_interopRequireDefault(require),
defaultStyles={fill:"#252525",fontSize:14,fontFamily:"'Gill Sans', 'Gill Sans MT', 'SerÂ­avek', 'Trebuchet MS', sans-serif",stroke:"transparent"};require=function(_React$Component){function VictoryLabel(){if(!(this instanceof VictoryLabel))throw new TypeError("Cannot call a class as a function");var call=(VictoryLabel.__proto__||Object.getPrototypeOf(VictoryLabel)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==
typeof call&&"function"!==typeof call?this:call}_inherits(VictoryLabel,_React$Component);_createClass(VictoryLabel,[{key:"componentWillMount",value:function(){this.cacheAttributes(this.calculateAttributes(this.props))}},{key:"shouldComponentUpdate",value:function(nextProps){var attrs=this.calculateAttributes(nextProps),_props=this.props;return _collection2.default.allSetsEqual([[_props.angle,nextProps.angle],[_props.className,nextProps.className],[_props.x,nextProps.x],[_props.y,nextProps.y],[attrs.dx,
this.dx],[attrs.dy,this.dy],[attrs.lineHeight,this.lineHeight],[attrs.textAnchor,this.textAnchor],[attrs.transform,this.transform],[attrs.content,this.content],[attrs.style,this.style],[_props.datum,nextProps.datum]])?!1:(this.cacheAttributes(attrs),!0)}},{key:"cacheAttributes",value:function(attrs){var dx=attrs.dx,dy=attrs.dy,content=attrs.content,textAnchor=attrs.textAnchor,transform=attrs.transform,lineHeight=attrs.lineHeight;this.style=attrs.style;this.dx=dx;this.dy=dy;this.content=content;this.textAnchor=
textAnchor;this.lineHeight=lineHeight;this.transform=transform}},{key:"calculateAttributes",value:function(props){var style=this.getStyles(props),lineHeight=this.getHeight(props,"lineHeight"),textAnchor=props.textAnchor?_helpers2.default.evaluateProp(props.textAnchor,props.datum):"start",content=this.getContent(props),dx=props.dx?_helpers2.default.evaluateProp(this.props.dx,props.datum):0,dy=this.getDy(props,style,content,lineHeight);props=this.getTransform(props,style);return{style:style,dx:dx,dy:dy,
content:content,lineHeight:lineHeight,textAnchor:textAnchor,transform:props}}},{key:"getStyle",value:function(props,style){style=style?(0,_merge3.default)({},defaultStyles,style):defaultStyles;props=_helpers2.default.evaluateStyle(style,props.datum||props.data,props.active);return(0,_assign3.default)({},props,{fontSize:this.getFontSize(props)})}},{key:"getStyles",value:function(props){var _this2=this;return Array.isArray(props.style)?props.style.map(function(style){return _this2.getStyle(props,style)}):
[this.getStyle(props,props.style)]}},{key:"getHeight",value:function(props,type){return _helpers2.default.evaluateProp(props[type],props.datum||props.data,props.active)}},{key:"getContent",value:function(props){if(void 0===props.text||null===props.text)return[" "];var datum=props.datum||props.data;return Array.isArray(props.text)?props.text.map(function(line){return _helpers2.default.evaluateProp(line,datum,props.active)}):(""+_helpers2.default.evaluateProp(props.text,datum,props.active)).split("\n")}},
{key:"getDy",value:function(props,style,content,lineHeight){var fontSize=style[0].fontSize,datum=props.datum||props.data,dy=props.dy?_helpers2.default.evaluateProp(props.dy,datum):0;content=content.length;var capHeight=this.getHeight(props,"capHeight");props=style.verticalAnchor||props.verticalAnchor;switch(props?_helpers2.default.evaluateProp(props,datum):"middle"){case "end":return dy+(capHeight/2+(.5-content)*lineHeight)*fontSize;case "middle":return dy+(capHeight/2+(.5-content/2)*lineHeight)*
fontSize;default:return dy+(capHeight/2+lineHeight/2)*fontSize}}},{key:"getTransform",value:function(props,style){var datum=props.datum,x=props.x,y=props.y,angle=style.angle||props.angle;datum=(props=props.transform||style.transform)&&_helpers2.default.evaluateProp(props,datum);x=angle&&{rotate:[angle,x,y]};return datum||angle?_style2.default.toTransformString(datum,x):void 0}},{key:"getFontSize",value:function(style){style=style&&style.fontSize;if("number"===typeof style)return style;if(void 0!==
style&&null!==style&&"string"===typeof style)if(style=+style.replace("px",""),isNaN(style))_log2.default.warn("fontSize should be expressed as a number of pixels");else return style;return defaultStyles.fontSize}},{key:"renderElements",value:function(props){var _this3=this;return _react2.default.createElement("text",_extends({},{dx:this.dx,dy:this.dy,x:props.x,y:props.y,transform:this.transform,className:props.className},props.events,{__source:{fileName:"src/victory-label/victory-label.js",lineNumber:233}}),
this.props.title&&_react2.default.createElement("title",{__source:{fileName:"src/victory-label/victory-label.js",lineNumber:236}},this.props.title),this.props.desc&&_react2.default.createElement("desc",{__source:{fileName:"src/victory-label/victory-label.js",lineNumber:237}},this.props.desc),this.content.map(function(line,i){var style=_this3.style[i]||_this3.style[0],fontSize=(style.fontSize+(_this3.style[i-1]||_this3.style[0]).fontSize)/2;return _react2.default.createElement("tspan",{key:i,x:props.x,
dy:i?_this3.lineHeight*fontSize:void 0,dx:_this3.dx,style:style,textAnchor:style.textAnchor||_this3.textAnchor,__source:{fileName:"src/victory-label/victory-label.js",lineNumber:245}},line)}))}},{key:"render",value:function(){var label=this.renderElements(this.props);return this.props.renderInPortal?_react2.default.createElement(_victoryPortal2.default,{__source:{fileName:"src/victory-label/victory-label.js",lineNumber:256}},label):label}}]);return VictoryLabel}(_react2.default.Component);require.displayName=
"VictoryLabel";require.role="label";require.propTypes={active:global.default.bool,angle:global.default.oneOfType([global.default.string,global.default.number]),capHeight:global.default.oneOfType([global.default.string,process.default.nonNegative,global.default.func]),className:global.default.string,data:global.default.array,datum:global.default.any,desc:global.default.string,dx:global.default.oneOfType([global.default.number,global.default.string,global.default.func]),dy:global.default.oneOfType([global.default.number,
global.default.string,global.default.func]),events:global.default.object,index:global.default.oneOfType([global.default.number,global.default.string]),lineHeight:global.default.oneOfType([global.default.string,process.default.nonNegative,global.default.func]),renderInPortal:global.default.bool,style:global.default.oneOfType([global.default.object,global.default.array]),text:global.default.oneOfType([global.default.string,global.default.number,global.default.func,global.default.array]),textAnchor:global.default.oneOfType([global.default.oneOf(["start",
"middle","end","inherit"]),global.default.func]),title:global.default.string,transform:global.default.oneOfType([global.default.string,global.default.object,global.default.func]),verticalAnchor:global.default.oneOfType([global.default.oneOf(["start","middle","end"]),global.default.func]),x:global.default.number,y:global.default.number};require.defaultProps={capHeight:.71,lineHeight:1};exports.default=require}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_label$victory_label.js.map
