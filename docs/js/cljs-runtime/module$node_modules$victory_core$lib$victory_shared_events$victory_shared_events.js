shadow$provide.module$node_modules$victory_core$lib$victory_shared_events$victory_shared_events=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$lodash$fromPairs");var _fromPairs3=_interopRequireDefault(global);global=require("module$node_modules$lodash$defaults");var _defaults3=_interopRequireDefault(global);
global=require("module$node_modules$lodash$partialRight");var _partialRight3=_interopRequireDefault(global);global=require("module$node_modules$lodash$isFunction");var _isFunction3=_interopRequireDefault(global);global=require("module$node_modules$lodash$assign");var _assign3=_interopRequireDefault(global),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;
"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);global=require("module$node_modules$prop_types$index");global=_interopRequireDefault(global);process=require("module$node_modules$victory_core$lib$victory_util$prop_types");
process=_interopRequireDefault(process);module=require("module$node_modules$victory_core$lib$victory_util$events");var _events2=_interopRequireDefault(module);module=require("module$node_modules$victory_core$lib$victory_util$helpers");var _helpers2=_interopRequireDefault(module);require=require("module$node_modules$victory_core$lib$victory_util$timer");var _timer2=_interopRequireDefault(require);require=function(_React$Component){function VictorySharedEvents(){if(!(this instanceof VictorySharedEvents))throw new TypeError("Cannot call a class as a function");
var _this=(VictorySharedEvents.__proto__||Object.getPrototypeOf(VictorySharedEvents)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");_this=!_this||"object"!==typeof _this&&"function"!==typeof _this?this:_this;_this.state=_this.state||{};_this.getScopedEvents=_events2.default.getScopedEvents.bind(_this);_this.getEventState=_events2.default.getEventState.bind(_this);_this.getTimer=_this.getTimer.bind(_this);return _this}_inherits(VictorySharedEvents,
_React$Component);_createClass(VictorySharedEvents,[{key:"getChildContext",value:function(){return{getTimer:this.getTimer}}},{key:"componentWillMount",value:function(){this.setUpChildren(this.props)}},{key:"componentWillReceiveProps",value:function(newProps){this.setUpChildren(newProps)}},{key:"getTimer",value:function(){if(this.context.getTimer)return this.context.getTimer();this.timer||(this.timer=new _timer2.default);return this.timer}},{key:"getAllEvents",value:function(props){this.componentEvents=
_events2.default.getComponentEvents(props,["container","groupComponent"]);if(Array.isArray(this.componentEvents)){var _componentEvents;return Array.isArray(props.events)?(_componentEvents=this.componentEvents).concat.apply(_componentEvents,_toConsumableArray(props.events)):this.componentEvents}return props.events}},{key:"setUpChildren",value:function(props){if(this.events=this.getAllEvents(props)){this.childComponents=_react2.default.Children.toArray(props.children);var childBaseProps=this.getBasePropsFromChildren(this.childComponents);
props=props.container?props.container.props:{};this.baseProps=(0,_assign3.default)({},childBaseProps,{parent:props})}}},{key:"getBasePropsFromChildren",value:function(childComponents){childComponents=_helpers2.default.reduceChildren(childComponents,function(child,childName,parent){return child.type&&(0,_isFunction3.default)(child.type.getBaseProps)?(child=parent?_react2.default.cloneElement(child,parent.props):child,(child=child.props&&child.type.getBaseProps(child.props))?[[childName,child]]:null):
null});return(0,_fromPairs3.default)(childComponents)}},{key:"getNewChildren",value:function(props){var _this2=this,events=props.events,eventKey=props.eventKey,childNames=Object.keys(this.baseProps);return function alterChildren(children){return children.reduce(function(memo,child,index){if(child.props.children)return memo.concat(_react2.default.cloneElement(child,child.props,alterChildren(_react2.default.Children.toArray(child.props.children))));if(child.type&&(0,_isFunction3.default)(child.type.getBaseProps)){var name=
child.props.name||childNames.shift()||index;index={events:Array.isArray(events)&&events.filter(function(event){return"parent"===event.target?!1:Array.isArray(event.childName)?-1<event.childName.indexOf(name):event.childName===name||"all"===event.childName}),getEvents:(0,_partialRight3.default)(_this2.getScopedEvents,name,_this2.baseProps),getEventState:(0,_partialRight3.default)(_this2.getEventState,name)};return memo.concat(_react2.default.cloneElement(child,(0,_assign3.default)({key:"events-"+name,
sharedEvents:index,eventKey:eventKey},child.props)))}return memo.concat(child)},[])}(this.childComponents)}},{key:"getContainer",value:function(props,children){props=Array.isArray(this.events)&&this.events.filter(function(event){return"parent"===event.target});var sharedEvents=0<props.length?{events:props,getEvents:(0,_partialRight3.default)(this.getScopedEvents,null,this.baseProps),getEventState:(0,_partialRight3.default)(this.getEventState,null)}:null;props=this.props.container||this.props.groupComponent;
var containerProps=props.props||{},boundGetEvents=_events2.default.getEvents.bind(this);sharedEvents=sharedEvents&&boundGetEvents({sharedEvents:sharedEvents},"parent");children=(0,_defaults3.default)({},this.getEventState("parent","parent"),containerProps,this.baseProps.parent,{children:children});containerProps=(0,_defaults3.default)({},_events2.default.getPartialEvents(sharedEvents,"parent",children),containerProps.events);return _react2.default.cloneElement(props,(0,_assign3.default)({},children,
{events:containerProps}))}},{key:"render",value:function(){if(this.events){var children=this.getNewChildren(this.props);return this.getContainer(this.props,children)}return _react2.default.cloneElement(this.props.container,{children:this.props.children})}}]);return VictorySharedEvents}(_react2.default.Component);require.displayName="VictorySharedEvents";require.role="shared-event-wrapper";require.propTypes={children:global.default.oneOfType([global.default.arrayOf(global.default.node),global.default.node]),
container:global.default.node,eventKey:global.default.oneOfType([global.default.array,global.default.func,process.default.allOfType([process.default.integer,process.default.nonNegative]),global.default.string]),events:global.default.arrayOf(global.default.shape({childName:global.default.oneOfType([global.default.string,global.default.array]),eventHandlers:global.default.object,eventKey:global.default.oneOfType([global.default.array,global.default.func,process.default.allOfType([process.default.integer,
process.default.nonNegative]),global.default.string]),target:global.default.string})),groupComponent:global.default.node};require.defaultProps={groupComponent:_react2.default.createElement("g",{__source:{fileName:"src/victory-shared-events/victory-shared-events.js",lineNumber:44}})};require.contextTypes={getTimer:global.default.func};require.childContextTypes={getTimer:global.default.func};exports.default=require}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_shared_events$victory_shared_events.js.map
