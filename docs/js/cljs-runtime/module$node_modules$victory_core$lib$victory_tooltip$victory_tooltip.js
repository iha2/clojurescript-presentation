shadow$provide.module$node_modules$victory_core$lib$victory_tooltip$victory_tooltip=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$lodash$defaults");var _defaults3=_interopRequireDefault(global);global=require("module$node_modules$lodash$assign");var _assign3=_interopRequireDefault(global),
_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();global=require("module$node_modules$react$index");
var _react2=_interopRequireDefault(global);global=require("module$node_modules$prop_types$index");global=_interopRequireDefault(global);process=require("module$node_modules$victory_core$lib$victory_util$prop_types");process=_interopRequireDefault(process);module=require("module$node_modules$victory_core$lib$victory_util$textsize");var _textsize2=_interopRequireDefault(module);module=require("module$node_modules$victory_core$lib$victory_util$helpers");var _helpers2=_interopRequireDefault(module);module=
require("module$node_modules$victory_core$lib$victory_label$victory_label");module=_interopRequireDefault(module);shadow$shims=require("module$node_modules$victory_core$lib$victory_theme$victory_theme");shadow$shims=_interopRequireDefault(shadow$shims);var _flyout=require("module$node_modules$victory_core$lib$victory_primitives$flyout");_flyout=_interopRequireDefault(_flyout);require=require("module$node_modules$victory_core$lib$victory_portal$victory_portal");var _victoryPortal2=_interopRequireDefault(require),
fallbackProps={cornerRadius:5,pointerLength:10,pointerWidth:10};require=function(_React$Component){function VictoryTooltip(){if(!(this instanceof VictoryTooltip))throw new TypeError("Cannot call a class as a function");var call=(VictoryTooltip.__proto__||Object.getPrototypeOf(VictoryTooltip)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?this:call}_inherits(VictoryTooltip,
_React$Component);_createClass(VictoryTooltip,[{key:"getEvaluatedProps",value:function(props){var horizontal=props.horizontal,datum=props.datum,pointerLength=props.pointerLength,pointerWidth=props.pointerWidth,cornerRadius=props.cornerRadius,width=props.width,height=props.height,orientation=props.orientation,dx=props.dx,dy=props.dy,text=props.text,active=props.active,style=Array.isArray(props.style)?props.style.map(function(s){return _helpers2.default.evaluateStyle(s,datum,active)}):_helpers2.default.evaluateStyle(props.style,
datum,active),flyoutStyle=_helpers2.default.evaluateStyle(props.flyoutStyle,datum,active),padding=flyoutStyle&&flyoutStyle.padding||0,defaultDx=horizontal?padding:0;padding=horizontal?0:padding;var getDefaultOrientation=function(){var positive=horizontal?"right":"top",negative=horizontal?"left":"bottom";return datum&&0>datum.y?negative:positive};return(0,_assign3.default)({},props,{style:style,flyoutStyle:flyoutStyle,dx:void 0!==dx?_helpers2.default.evaluateProp(dx,datum,active):defaultDx,dy:void 0!==
dy?_helpers2.default.evaluateProp(dy,datum,active):padding,cornerRadius:_helpers2.default.evaluateProp(cornerRadius,datum,active),pointerLength:_helpers2.default.evaluateProp(pointerLength,datum,active),pointerWidth:_helpers2.default.evaluateProp(pointerWidth,datum,active),orientation:_helpers2.default.evaluateProp(orientation,datum,active)||getDefaultOrientation(),width:_helpers2.default.evaluateProp(width,datum,active),height:_helpers2.default.evaluateProp(height,datum,active),active:_helpers2.default.evaluateProp(active,
datum,active),text:_helpers2.default.evaluateProp(text,datum,active)})}},{key:"getCalculatedValues",value:function(props){var style=props.style,text=props.text,datum=props.datum,theme=props.theme,active=props.active,defaultLabelStyles=theme&&theme.tooltip&&theme.tooltip.style?theme.tooltip.style:{};style=Array.isArray(style)?style.map(function(s){return(0,_defaults3.default)({},s,defaultLabelStyles)}):(0,_defaults3.default)({},style,defaultLabelStyles);theme=theme&&theme.tooltip&&theme.tooltip.flyoutStyle?
theme.tooltip.flyoutStyle:{};theme=props.flyoutStyle?(0,_defaults3.default)({},props.flyoutStyle,theme):theme;style=Array.isArray(style)?style.map(function(s){return _helpers2.default.evaluateStyle(s,datum,active)}):_helpers2.default.evaluateStyle(style,datum,active);text=_textsize2.default.approximateTextSize(text,style);var flyoutDimensions=this.getDimensions(props,text,style);props=this.getFlyoutCenter(props,flyoutDimensions);return{labelStyle:style,flyoutStyle:theme,labelSize:text,flyoutDimensions:flyoutDimensions,
flyoutCenter:props}}},{key:"getFlyoutCenter",value:function(props,dimensions){var x=props.x,y=props.y,dx=props.dx,dy=props.dy,pointerLength=props.pointerLength;props=props.orientation;var height=dimensions.height;dimensions=dimensions.width;var sign="right"===props||"top"===props?1:-1;return{x:"left"===props||"right"===props?x+sign*(pointerLength+dimensions/2+dx):x+sign*dx,y:"top"===props||"bottom"===props?y-sign*(pointerLength+height/2+dy):y-sign*dy}}},{key:"getLabelPadding",value:function(style){if(!style)return 0;
style=Array.isArray(style)?style.map(function(s){return s.padding}):[style.padding];return Math.max.apply(Math,_toConsumableArray(style).concat([0]))}},{key:"getDimensions",value:function(props,labelSize,labelStyle){var orientation=props.orientation,cornerRadius=props.cornerRadius,pointerLength=props.pointerLength,pointerWidth=props.pointerWidth;labelStyle=this.getLabelPadding(labelStyle);return{height:props.height||Math.max("top"===orientation||"bottom"===orientation?2*cornerRadius:2*cornerRadius+
pointerWidth,labelSize.height+labelStyle)+labelStyle/2,width:props.width||Math.max("left"===orientation||"right"===orientation?2*cornerRadius+pointerLength:2*cornerRadius,labelSize.width+labelStyle)+labelStyle}}},{key:"getLabelProps",value:function(props,calculatedValues){var flyoutCenter=calculatedValues.flyoutCenter,labelStyle=calculatedValues.labelStyle,labelSize=calculatedValues.labelSize,dy=calculatedValues.dy;calculatedValues=calculatedValues.dx;var text=props.text,datum=props.datum,labelComponent=
props.labelComponent;props=props.index;var textAnchor=(Array.isArray(labelStyle)&&labelStyle.length?labelStyle[0].textAnchor:labelStyle.textAnchor)||"middle";return(0,_defaults3.default)({},labelComponent.props,{key:"label-"+props,text:text,datum:datum,textAnchor:textAnchor,dy:dy,dx:calculatedValues,style:labelStyle,x:textAnchor&&"middle"!==textAnchor?flyoutCenter.x-labelSize.width/2*("end"===textAnchor?-1:1):flyoutCenter.x,y:flyoutCenter.y,verticalAnchor:"middle",angle:labelStyle.angle})}},{key:"getFlyoutProps",
value:function(props,calculatedValues){var flyoutDimensions=calculatedValues.flyoutDimensions;calculatedValues=calculatedValues.flyoutStyle;var x=props.x,y=props.y,dx=props.dx,dy=props.dy,datum=props.datum,index=props.index,orientation=props.orientation,pointerLength=props.pointerLength,pointerWidth=props.pointerWidth,cornerRadius=props.cornerRadius,events=props.events;props=props.flyoutComponent;return(0,_defaults3.default)({},props.props,{x:x,y:y,dx:dx,dy:dy,datum:datum,index:index,orientation:orientation,
pointerLength:pointerLength,pointerWidth:pointerWidth,cornerRadius:cornerRadius,events:events,key:"flyout-"+index,width:flyoutDimensions.width,height:flyoutDimensions.height,style:calculatedValues})}},{key:"renderTooltip",value:function(props){var evaluatedProps=this.getEvaluatedProps(props),flyoutComponent=evaluatedProps.flyoutComponent,labelComponent=evaluatedProps.labelComponent,groupComponent=evaluatedProps.groupComponent;props=evaluatedProps.renderInPortal;if(!evaluatedProps.active)return null;
var calculatedValues=this.getCalculatedValues(evaluatedProps);evaluatedProps=[_react2.default.cloneElement(flyoutComponent,this.getFlyoutProps(evaluatedProps,calculatedValues)),_react2.default.cloneElement(labelComponent,this.getLabelProps(evaluatedProps,calculatedValues))];groupComponent=_react2.default.cloneElement(groupComponent,{role:"presentation"},evaluatedProps);return props?_react2.default.createElement(_victoryPortal2.default,{__source:{fileName:"src/victory-tooltip/victory-tooltip.js",lineNumber:281}},
groupComponent):groupComponent}},{key:"render",value:function(){var props=_helpers2.default.modifyProps(this.props,fallbackProps,"tooltip");return this.renderTooltip(props)}}]);return VictoryTooltip}(_react2.default.Component);require.displayName="VictoryTooltip";require.propTypes={activateData:global.default.bool,active:global.default.oneOfType([global.default.bool,global.default.func]),cornerRadius:global.default.oneOfType([process.default.nonNegative,global.default.func]),data:global.default.array,
datum:global.default.object,dx:global.default.oneOfType([global.default.number,global.default.func]),dy:global.default.oneOfType([global.default.number,global.default.func]),events:global.default.object,flyoutComponent:global.default.element,flyoutStyle:global.default.object,groupComponent:global.default.element,height:global.default.oneOfType([process.default.nonNegative,global.default.func]),horizontal:global.default.bool,index:global.default.oneOfType([global.default.number,global.default.string]),
labelComponent:global.default.element,orientation:global.default.oneOfType([global.default.oneOf(["top","bottom","left","right"]),global.default.func]),pointerLength:global.default.oneOfType([process.default.nonNegative,global.default.func]),pointerWidth:global.default.oneOfType([process.default.nonNegative,global.default.func]),renderInPortal:global.default.bool,style:global.default.oneOfType([global.default.object,global.default.array]),text:global.default.oneOfType([global.default.string,global.default.number,
global.default.func,global.default.array]),theme:global.default.object,width:global.default.oneOfType([process.default.nonNegative,global.default.func]),x:global.default.number,y:global.default.number};require.defaultProps={theme:shadow$shims.default.grayscale,active:!1,renderInPortal:!0,labelComponent:_react2.default.createElement(module.default,{__source:{fileName:"src/victory-tooltip/victory-tooltip.js",lineNumber:89}}),flyoutComponent:_react2.default.createElement(_flyout.default,{__source:{fileName:"src/victory-tooltip/victory-tooltip.js",
lineNumber:90}}),groupComponent:_react2.default.createElement("g",{__source:{fileName:"src/victory-tooltip/victory-tooltip.js",lineNumber:91}})};require.defaultEvents=[{target:"data",eventHandlers:{onMouseOver:function(targetProps){return[{target:"labels",mutation:function(){return{active:!0}}},{target:"data",mutation:function(){return targetProps.activateData?{active:!0}:{active:void 0}}}]},onMouseOut:function(){return[{target:"labels",mutation:function(){return{active:void 0}}},{target:"data",mutation:function(){return{active:void 0}}}]}}}];
exports.default=require}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_tooltip$victory_tooltip.js.map
