shadow$provide.module$node_modules$victory_core$lib$victory_util$add_events=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$lodash$without");var _without3=_interopRequireDefault(global);global=require("module$node_modules$lodash$pick");var _pick3=_interopRequireDefault(global);
global=require("module$node_modules$lodash$partialRight");var _partialRight3=_interopRequireDefault(global);global=require("module$node_modules$lodash$isFunction");var _isFunction3=_interopRequireDefault(global);global=require("module$node_modules$lodash$assign");var _assign3=_interopRequireDefault(global);global=require("module$node_modules$lodash$defaults");var _defaults3=_interopRequireDefault(global),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=
props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,
property);if(void 0===desc){if(object=Object.getPrototypeOf(object),null!==object)return get(object,property,receiver)}else{if("value"in desc)return desc.value;property=desc.get;return void 0===property?void 0:property.call(receiver)}};global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);global=require("module$node_modules$victory_core$lib$victory_util$events");var _events2=_interopRequireDefault(global);require=require("module$node_modules$victory_core$lib$victory_transition$victory_transition");
var _victoryTransition2=_interopRequireDefault(require);exports.default=function(WrappedComponent){return function(_WrappedComponent){function addEvents(){if(!(this instanceof addEvents))throw new TypeError("Cannot call a class as a function");var call=(addEvents.__proto__||Object.getPrototypeOf(addEvents)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?this:call}_inherits(addEvents,
_WrappedComponent);_createClass(addEvents,[{key:"componentWillMount",value:function(){(0,_isFunction3.default)(_get(addEvents.prototype.__proto__||Object.getPrototypeOf(addEvents.prototype),"componentWillMount",this))&&_get(addEvents.prototype.__proto__||Object.getPrototypeOf(addEvents.prototype),"componentWillMount",this).call(this);this.state=this.state||{};var getScopedEvents=_events2.default.getScopedEvents.bind(this);this.getEvents=(0,_partialRight3.default)(_events2.default.getEvents.bind(this),
getScopedEvents);this.getEventState=_events2.default.getEventState.bind(this);this.setupEvents(this.props)}},{key:"componentWillUpdate",value:function(newProps){(0,_isFunction3.default)(_get(addEvents.prototype.__proto__||Object.getPrototypeOf(addEvents.prototype),"componentWillReceiveProps",this))&&_get(addEvents.prototype.__proto__||Object.getPrototypeOf(addEvents.prototype),"componentWillReceiveProps",this).call(this);this.setupEvents(newProps)}},{key:"setupEvents",value:function(props){var sharedEvents=
props.sharedEvents;this.componentEvents=_events2.default.getComponentEvents(props,WrappedComponent.expectedComponents);this.getSharedEventState=sharedEvents&&(0,_isFunction3.default)(sharedEvents.getEventState)?sharedEvents.getEventState:function(){};this.baseProps=this.getBaseProps(props);this.dataKeys=Object.keys(this.baseProps).filter(function(key){return"parent"!==key});this.hasEvents=props.events||props.sharedEvents||this.componentEvents;this.events=this.getAllEvents(props)}},{key:"getBaseProps",
value:function(props){var sharedParentState=this.getSharedEventState("parent","parent"),parentState=this.getEventState("parent","parent");sharedParentState=(0,_defaults3.default)({},parentState,sharedParentState);sharedParentState=(parentState=sharedParentState.parentControlledProps)?(0,_pick3.default)(sharedParentState,parentState):{};props=(0,_defaults3.default)({},sharedParentState,props);return(0,_isFunction3.default)(WrappedComponent.getBaseProps)?WrappedComponent.getBaseProps(props):{}}},{key:"getAllEvents",
value:function(props){if(Array.isArray(this.componentEvents)){var _componentEvents;return Array.isArray(props.events)?(_componentEvents=this.componentEvents).concat.apply(_componentEvents,_toConsumableArray(props.events)):this.componentEvents}return props.events}},{key:"getComponentProps",value:function(component,type,index){var role=WrappedComponent.role,key=this.dataKeys&&this.dataKeys[index]||index,baseProps=this.baseProps[key][type]||this.baseProps[key];if(baseProps||this.hasEvents){if(this.hasEvents){var baseEvents=
this.getEvents(this.props,type,key);component=(0,_defaults3.default)({index:index,key:role+"-"+type+"-"+key},this.getEventState(key,type),this.getSharedEventState(key,type),component.props,baseProps);key=(0,_defaults3.default)({},_events2.default.getPartialEvents(baseEvents,key,component),component.events);return(0,_assign3.default)({},component,{events:key})}return(0,_defaults3.default)({index:index,key:role+"-"+type+"-"+key},component.props,baseProps)}}},{key:"renderContainer",value:function(component,
children){var parentProps=component.type&&"container"===component.type.role?this.getComponentProps(component,"parent","parent"):{};return _react2.default.cloneElement(component,parentProps,children)}},{key:"animateComponent",value:function(props,animationWhitelist){return _react2.default.createElement(_victoryTransition2.default,{animate:props.animate,animationWhitelist:animationWhitelist,__source:{fileName:"src/victory-util/add-events.js",lineNumber:96}},_react2.default.createElement(this.constructor,
props))}},{key:"renderContinuousData",value:function(props){var _this2=this,dataComponent=props.dataComponent,labelComponent=props.labelComponent;props=props.groupComponent;var labelComponents=(0,_without3.default)(this.dataKeys,"all").reduce(function(memo,key){(key=_this2.getComponentProps(labelComponent,"labels",key))&&void 0!==key.text&&null!==key.text&&(memo=memo.concat(_react2.default.cloneElement(labelComponent,key)));return memo},[]),dataProps=this.getComponentProps(dataComponent,"data","all");
dataComponent=[_react2.default.cloneElement(dataComponent,dataProps)].concat(_toConsumableArray(labelComponents));return this.renderContainer(props,dataComponent)}},{key:"renderData",value:function(props){var _this3=this,dataComponent=props.dataComponent,labelComponent=props.labelComponent;props=props.groupComponent;var dataComponents=this.dataKeys.map(function(_dataKey,index){_dataKey=_this3.getComponentProps(dataComponent,"data",index);return _react2.default.cloneElement(dataComponent,_dataKey)}),
labelComponents=this.dataKeys.map(function(_dataKey,index){_dataKey=_this3.getComponentProps(labelComponent,"labels",index);if(void 0!==_dataKey.text&&null!==_dataKey.text)return _react2.default.cloneElement(labelComponent,_dataKey)}).filter(Boolean);dataComponents=[].concat(_toConsumableArray(dataComponents),_toConsumableArray(labelComponents));return this.renderContainer(props,dataComponents)}}]);return addEvents}(WrappedComponent)}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$add_events.js.map
