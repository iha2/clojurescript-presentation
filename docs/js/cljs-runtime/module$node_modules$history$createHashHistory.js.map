{
"version":3,
"file":"module$node_modules$history$createHashHistory.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/history/createHashHistory.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$history$createHashHistory\"] = function(global,process,require,module,exports,shadow$shims) {\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HashChangeEvent = 'hashchange';\n\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + (0, _PathUtils.stripLeadingSlash)(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: _PathUtils.stripLeadingSlash,\n    decodePath: _PathUtils.addLeadingSlash\n  },\n  slash: {\n    encodePath: _PathUtils.addLeadingSlash,\n    decodePath: _PathUtils.addLeadingSlash\n  }\n};\n\nvar getHashPath = function getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nvar pushHashPath = function pushHashPath(path) {\n  return window.location.hash = path;\n};\n\nvar replaceHashPath = function replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n};\n\nvar createHashHistory = function createHashHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Hash history needs a DOM');\n\n  var globalHistory = window.history;\n  var canGoWithoutReload = (0, _DOMUtils.supportsGoWithoutReloadUsingHash)();\n\n  var _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$hashType = props.hashType,\n      hashType = _props$hashType === undefined ? 'slash' : _props$hashType;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n\n  var getDOMLocation = function getDOMLocation() {\n    var path = decodePath(getHashPath());\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  var handleHashChange = function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n\n      if (!forceNextPop && (0, _LocationUtils.locationsAreEqual)(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === (0, _PathUtils.createPath)(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n\n      handlePop(location);\n    }\n  };\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(toLocation));\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(fromLocation));\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  // Ensure the hash is encoded properly before doing anything else.\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n\n  var initialLocation = getDOMLocation();\n  var allPaths = [(0, _PathUtils.createPath)(initialLocation)];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return '#' + encodePath(basename + (0, _PathUtils.createPath)(location));\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(state === undefined, 'Hash history cannot push state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = (0, _PathUtils.createPath)(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n\n        var prevIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n        nextPaths.push(path);\n        allPaths = nextPaths;\n\n        setState({ action: action, location: location });\n      } else {\n        (0, _warning2.default)(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\n\n        setState();\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(state === undefined, 'Hash history cannot replace state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = (0, _PathUtils.createPath)(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf((0, _PathUtils.createPath)(history.location));\n\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n\n      setState({ action: action, location: location });\n    });\n  };\n\n  var go = function go(n) {\n    (0, _warning2.default)(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\n\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createHashHistory;\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","_interopRequireDefault","obj","__esModule","default","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_warning","_warning2","_invariant","_invariant2","_LocationUtils","_PathUtils","_createTransitionManager","_createTransitionManager2","_DOMUtils","HashPathCoders","hashbang","encodePath","path","charAt","stripLeadingSlash","decodePath","substr","noslash","addLeadingSlash","slash","getHashPath","href","window","location","hashIndex","indexOf","substring","replaceHashPath","replace","slice","createHashHistory","props","undefined","canUseDOM","globalHistory","history","canGoWithoutReload","supportsGoWithoutReloadUsingHash","_props$getUserConfirm","getUserConfirmation","getConfirmation","_props$hashType","hashType","basename","stripTrailingSlash","_HashPathCoders$hashT","getDOMLocation","hasBasename","stripBasename","createLocation","transitionManager","setState","nextState","notifyListeners","action","forceNextPop","ignorePath","handleHashChange","encodedPath","prevLocation","locationsAreEqual","createPath","handlePop","confirmTransitionTo","ok","toLocation","toIndex","allPaths","lastIndexOf","fromIndex","go","delta","initialLocation","n","listenerCount","checkDOMListeners","addEventListener","HashChangeEvent","removeEventListener","isBlocked","createHref","push","state","hash","prevIndex","nextPaths","goBack","goForward","block","unblock","setPrompt","prompt","listen","listener","unlisten","appendListener"]
}
