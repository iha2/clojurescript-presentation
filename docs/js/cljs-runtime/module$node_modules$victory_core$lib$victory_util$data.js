shadow$provide.module$node_modules$victory_core$lib$victory_util$data=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$lodash$sortBy");var _sortBy3=_interopRequireDefault(global);
global=require("module$node_modules$lodash$property");var _property3=_interopRequireDefault(global);global=require("module$node_modules$lodash$isFunction");var _isFunction3=_interopRequireDefault(global);global=require("module$node_modules$lodash$last");var _last3=_interopRequireDefault(global);global=require("module$node_modules$lodash$range");var _range3=_interopRequireDefault(global);global=require("module$node_modules$lodash$uniq");var _uniq3=_interopRequireDefault(global);global=require("module$node_modules$lodash$assign");
var _assign3=_interopRequireDefault(global);global=require("module$node_modules$victory_core$lib$victory_util$helpers");var _helpers2=_interopRequireDefault(global);global=require("module$node_modules$victory_core$lib$victory_util$collection");var _collection2=_interopRequireDefault(global);require=require("module$node_modules$victory_core$lib$victory_util$scale");var _scale2=_interopRequireDefault(require);exports.default={getData:function(props){if(props.data){if(1>props.data.length)return[];var data=
this.formatData(props.data,props)}else data=this.formatData(this.generateData(props),props);return this.addEventKeys(props,data)},generateDataArray:function(props,axis){axis=(props.domain&&Array.isArray(props.domain)?props.domain:props.domain&&props.domain[axis])||_scale2.default.getBaseScale(props,axis).domain();var samples=props.samples||1;props=Math.max.apply(Math,_toConsumableArray(axis));axis=Math.min.apply(Math,_toConsumableArray(axis));samples=(props-axis)/samples;axis=(0,_range3.default)(axis,
props,samples);return(0,_last3.default)(axis)===props?axis:axis.concat(props)},generateData:function(props){var xValues=this.generateDataArray(props,"x"),yValues=this.generateDataArray(props,"y");return xValues.map(function(x,i){return{x:x,y:yValues[i]}})},formatData:function(dataset,props,stringMap){if(!Array.isArray(dataset))return[];stringMap=stringMap||{x:this.createStringMap(props,"x"),y:this.createStringMap(props,"y")};var accessor={x:_helpers2.default.createAccessor(void 0!==props.x?props.x:
"x"),y:_helpers2.default.createAccessor(void 0!==props.y?props.y:"y"),y0:_helpers2.default.createAccessor(void 0!==props.y0?props.y0:"y0")};dataset=dataset.map(function(datum,index){var evaluatedX=void 0!==datum._x?datum._x:accessor.x(datum),evaluatedY=void 0!==datum._y?datum._y:accessor.y(datum),y0=void 0!==datum._y0?datum._y0:accessor.y0(datum);index=void 0!==evaluatedX?evaluatedX:index;evaluatedY=void 0!==evaluatedY?evaluatedY:datum;evaluatedX=void 0===y0?{x:index,y:evaluatedY}:{x:index,y:evaluatedY,
y0:y0};var privateValues=void 0===y0?{_x:index,_y:evaluatedY}:{_x:index,_y:evaluatedY,_y0:y0};return(0,_assign3.default)(evaluatedX,datum,privateValues,"string"===typeof index?{_x:stringMap.x[index],xName:index}:{},"string"===typeof evaluatedY?{_y:stringMap.y[evaluatedY],yName:evaluatedY}:{},"string"===typeof y0?{_y0:stringMap.y[y0],yName:y0}:{})});dataset=this.sortData(dataset,props.sortKey);return this.cleanData(dataset,props)},sortData:function(dataset,sortKey){if(!sortKey)return dataset;if("x"===
sortKey||"y"===sortKey)sortKey="_"+sortKey;return(0,_sortBy3.default)(dataset,sortKey)},cleanData:function(dataset,props){var scaleType={x:_scale2.default.getScaleType(props,"x"),y:_scale2.default.getScaleType(props,"y")};if("log"!==scaleType.x&&"log"!==scaleType.y)return dataset;var rules=function(datum,axis){return"log"===scaleType[axis]?0!==datum["_"+axis]:!0};return dataset.filter(function(datum){return rules(datum,"x")&&rules(datum,"y")&&rules(datum,"y0")})},getEventKey:function(key){return(0,
_isFunction3.default)(key)?key:null===key||"undefined"===typeof key?function(){}:(0,_property3.default)(key)},addEventKeys:function(props,data){var eventKeyAccessor=this.getEventKey(props.eventKey);return data.map(function(datum,index){index=datum.eventKey||eventKeyAccessor(datum)||index;return(0,_assign3.default)({eventKey:index},datum)})},createStringMap:function(props,axis){var stringsFromAxes=this.getStringsFromAxes(props,axis),stringsFromCategories=this.getStringsFromCategories(props,axis);props=
this.getStringsFromData(props,axis);stringsFromAxes=(0,_uniq3.default)([].concat(_toConsumableArray(stringsFromAxes),_toConsumableArray(stringsFromCategories),_toConsumableArray(props)));return 0===stringsFromAxes.length?null:stringsFromAxes.reduce(function(memo,string,index){memo[string]=index+1;return memo},{})},getStringsFromData:function(props,axis){if(!Array.isArray(props.data))return[];var accessor=_helpers2.default.createAccessor("undefined"===typeof props[axis]?axis:props[axis]);return props.data.map(function(datum){return accessor(datum)}).filter(function(datum){return"string"===
typeof datum}).reduce(function(prev,curr){"undefined"!==typeof curr&&null!==curr&&-1===prev.indexOf(curr)&&prev.push(curr);return prev},[])},getStringsFromAxes:function(props,axis){return props.tickValues&&(Array.isArray(props.tickValues)||props.tickValues[axis])?(props.tickValues[axis]||props.tickValues).filter(function(val){return"string"===typeof val}):[]},getStringsFromCategories:function(props,axis){return props.categories?(props=(props=this.getCategories(props,axis))&&props.filter(function(val){return"string"===
typeof val}))?_collection2.default.removeUndefined(props):[]:[]},getCategories:function(props,axis){return props.categories&&!Array.isArray(props.categories)?props.categories[axis]:props.categories}}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$data.js.map
