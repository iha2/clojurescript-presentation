{
"version":3,
"file":"module$node_modules$spectacle$lib$utils$magic.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/spectacle/lib/utils/magic.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$spectacle$lib$utils$magic\"] = function(global,process,require,module,exports,shadow$shims) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateChildren = updateChildren;\nexports.buildStyleMap = buildStyleMap;\n\n/* eslint-disable max-statements */\nfunction wrapTextChildren(child, valMap, classes) {\n  var frag = document.createDocumentFragment();\n  child.textContent.split('').map(function (s) {\n    var char = s;\n\n    if (s.charCodeAt(0) === 10) {\n      char = 'CR';\n    }\n\n    if (s.charCodeAt(0) === 32) {\n      char = 'SP';\n    }\n\n    if (s.charCodeAt(0) === 39) {\n      char = 'QT';\n    }\n\n    if (s.charCodeAt(0) === 34) {\n      char = 'DQT';\n    }\n\n    updateMap(valMap, char);\n    var elKey = \"\".concat(char, \"-\").concat(valMap[char]);\n\n    if (char === 'CR') {\n      var el = document.createElement('span');\n      el.style.display = 'block';\n      el.setAttribute('data-key', elKey);\n      el.setAttribute('wrapped', true);\n      el.className = classes;\n      frag.appendChild(el);\n    } else if (s === ' ') {\n      var _el = document.createElement('span');\n\n      _el.style.display = 'inline-block';\n\n      _el.setAttribute('data-key', elKey);\n\n      _el.setAttribute('wrapped', true);\n\n      _el.className = classes;\n      _el.innerHTML = '&nbsp;';\n      frag.appendChild(_el);\n    } else {\n      var _el2 = document.createElement('span');\n\n      _el2.style.display = 'inline-flex';\n\n      _el2.setAttribute('data-key', elKey);\n\n      _el2.setAttribute('wrapped', true);\n\n      _el2.className = classes;\n      _el2.innerText = s;\n      frag.appendChild(_el2);\n    }\n  });\n  return frag;\n}\n\nfunction updateMap(valMap, val) {\n  if (val in valMap) {\n    valMap[val] += 1;\n  } else {\n    valMap[val] = 0;\n  }\n}\n\nfunction updateChildren(root) {\n  var valMap = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Array.prototype.slice.call(root.childNodes, 0).map(function (child) {\n    if (child.nodeType !== 3 && child.getAttribute('wrapped')) {\n      return;\n    }\n\n    if (child.nodeType === 1) {\n      if (child.parentNode.classList.contains('prism-code') && child.tagName === 'SPAN') {\n        var replaced = wrapTextChildren(child, valMap, child.classList.value);\n        child.replaceWith(replaced);\n      }\n\n      updateMap(valMap, child.nodeName);\n      child.setAttribute('data-key', 'key' in child.dataset ? child.dataset.key : \"\".concat(child.nodeName, \"-\").concat(valMap[child.nodeName]));\n    }\n\n    if (child.nodeType === 3) {\n      var _replaced = wrapTextChildren(child, valMap);\n\n      child.replaceWith(_replaced);\n    }\n\n    if (child.childNodes) {\n      updateChildren(child, valMap);\n    }\n  });\n}\n\nfunction buildStyleMap(map, root, coords) {\n  root.childNodes.forEach(function (child) {\n    if (child.nodeType !== 3) {\n      var rect = child.getBoundingClientRect();\n      var x = rect.x;\n      var y = rect.y;\n\n      if (coords && !root.classList.contains('spectacle-content')) {\n        x = rect.x - coords.x;\n        y = rect.y - coords.y;\n      }\n\n      map[child.dataset.key] = {\n        x: x,\n        y: y,\n        left: rect.top,\n        top: rect.top,\n        height: rect.height,\n        width: rect.width\n      };\n\n      if (child.childNodes) {\n        buildStyleMap(map, child, {\n          x: x,\n          y: y\n        });\n      }\n    }\n  });\n}\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","wrapTextChildren","child","valMap","classes","frag","document","createDocumentFragment","textContent","split","map","s","char","charCodeAt","val","elKey","concat","el","createElement","style","display","setAttribute","className","appendChild","_el","innerHTML","_el2","innerText","updateChildren","root","arguments","length","undefined","Array","prototype","slice","call","childNodes","nodeType","getAttribute","parentNode","classList","contains","tagName","replaced","value","replaceWith","nodeName","dataset","key","_replaced","buildStyleMap","coords","forEach","rect","getBoundingClientRect","x","y","left","top","height","width","Object","defineProperty"]
}
