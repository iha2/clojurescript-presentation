shadow$provide.module$node_modules$spectacle$lib$utils$magic=function(global,process,require,module,exports,shadow$shims){function wrapTextChildren(child,valMap,classes){var frag=document.createDocumentFragment();child.textContent.split("").map(function(s){var char=s;10===s.charCodeAt(0)&&(char="CR");32===s.charCodeAt(0)&&(char="SP");39===s.charCodeAt(0)&&(char="QT");34===s.charCodeAt(0)&&(char="DQT");var val=char;valMap[val]=val in valMap?valMap[val]+1:0;val="".concat(char,"-").concat(valMap[char]);
"CR"===char?(s=document.createElement("span"),s.style.display="block",s.setAttribute("data-key",val),s.setAttribute("wrapped",!0),s.className=classes,frag.appendChild(s)):" "===s?(s=document.createElement("span"),s.style.display="inline-block",s.setAttribute("data-key",val),s.setAttribute("wrapped",!0),s.className=classes,s.innerHTML="\x26nbsp;",frag.appendChild(s)):(char=document.createElement("span"),char.style.display="inline-flex",char.setAttribute("data-key",val),char.setAttribute("wrapped",
!0),char.className=classes,char.innerText=s,frag.appendChild(char))});return frag}function updateChildren(root){var valMap=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Array.prototype.slice.call(root.childNodes,0).map(function(child){if(3===child.nodeType||!child.getAttribute("wrapped")){if(1===child.nodeType){if(child.parentNode.classList.contains("prism-code")&&"SPAN"===child.tagName){var replaced=wrapTextChildren(child,valMap,child.classList.value);child.replaceWith(replaced)}replaced=
child.nodeName;valMap[replaced]=replaced in valMap?valMap[replaced]+1:0;child.setAttribute("data-key","key"in child.dataset?child.dataset.key:"".concat(child.nodeName,"-").concat(valMap[child.nodeName]))}3===child.nodeType&&(replaced=wrapTextChildren(child,valMap),child.replaceWith(replaced));child.childNodes&&updateChildren(child,valMap)}})}function buildStyleMap(map,root,coords){root.childNodes.forEach(function(child){if(3!==child.nodeType){var rect=child.getBoundingClientRect(),x=rect.x,y=rect.y;
coords&&!root.classList.contains("spectacle-content")&&(x=rect.x-coords.x,y=rect.y-coords.y);map[child.dataset.key]={x:x,y:y,left:rect.top,top:rect.top,height:rect.height,width:rect.width};child.childNodes&&buildStyleMap(map,child,{x:x,y:y})}})}Object.defineProperty(exports,"__esModule",{value:!0});exports.updateChildren=updateChildren;exports.buildStyleMap=buildStyleMap}
//# sourceMappingURL=module$node_modules$spectacle$lib$utils$magic.js.map
