{
"version":3,
"file":"module$node_modules$dom_iterator$index.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/dom-iterator/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$dom_iterator$index\"] = function(global,process,require,module,exports,shadow$shims) {\n/**\n * Module Dependencies\n */\n\nvar xor = require('component-xor');\nvar props = require('component-props');\n\n\n/**\n * Export `Iterator`\n */\n\nmodule.exports = Iterator;\n\n/**\n * Initialize `Iterator`\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Iterator} self\n * @api public\n */\n\nfunction Iterator(node, root) {\n  if (!(this instanceof Iterator)) return new Iterator(node, root);\n  this.node = this.start = this.peeked = node;\n  this.root = root;\n  this.closingTag = false;\n  this._revisit = true;\n  this._selects = [];\n  this._rejects = [];\n\n  if (node && this.higher(node)) {\n    throw new Error('root must be a parent or ancestor to node');\n  }\n}\n\n/**\n * Reset the Iterator\n *\n * @param {Node} node (optional)\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reset = function(node) {\n  this.node = node || this.start;\n  return this;\n};\n\n/**\n * Revisit element nodes. Defaults to `true`\n */\n\nIterator.prototype.revisit = function(revisit) {\n  this._revisit = undefined == revisit ? true : revisit;\n  return this;\n};\n\n/**\n * Jump to the opening tag\n */\n\nIterator.prototype.opening = function() {\n  if (1 == this.node.nodeType) this.closingTag = false;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atOpening = function() {\n  return !this.closingTag;\n};\n\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.closing = function() {\n  if (1 == this.node.nodeType) this.closingTag = true;\n  return this;\n};\n\n/**\n * Jump to the closing tag\n */\n\nIterator.prototype.atClosing = function() {\n  return this.closingTag;\n};\n\n/**\n * Next node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.next = traverse('nextSibling', 'firstChild');\n\n/**\n * Previous node\n *\n * @param {Number} type\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.previous =\nIterator.prototype.prev = traverse('previousSibling', 'lastChild');\n\n/**\n * Make traverse function\n *\n * @param {String} dir\n * @param {String} child\n * @return {Function}\n * @api private\n */\n\nfunction traverse(dir, child) {\n  var next = dir == 'nextSibling';\n  return function walk(expr, n, peek) {\n    expr = this.compile(expr);\n    n = n && n > 0 ? n : 1;\n    var node = this.node;\n    var closing = this.closingTag;\n    var revisit = this._revisit;\n\n    while (node) {\n      if (xor(next, closing) && node[child]) {\n        // element with children: <em>...</em>\n        node = node[child];\n        closing = !next;\n      } else if (1 == node.nodeType && !node[child] && xor(next, closing)) {\n        // empty element tag: <em></em>\n        closing = next;\n        if (!revisit) continue;\n      } else if (node[dir]) {\n        // element has a neighbor: ...<em></em>...\n        node = node[dir];\n        closing = !next;\n      } else {\n        // done with current layer, move up.\n        node = node.parentNode;\n        closing = next;\n        if (!revisit) continue;\n      }\n\n      if (!node || this.higher(node, this.root)) break;\n\n      if (expr(node) && this.selects(node, peek) && this.rejects(node, peek)) {\n        if (--n) continue;\n        if (!peek) this.node = node;\n        this.closingTag = closing;\n        return node;\n      }\n    }\n\n    return null;\n  };\n}\n\n/**\n * Select nodes that cause `expr(node)`\n * to be truthy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.select = function(expr) {\n  expr = this.compile(expr);\n  this._selects.push(expr);\n  return this;\n};\n\n/**\n * Run through the selects ORing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.selects = function(node, peek) {\n  var exprs = this._selects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return true;\n  };\n\n  return false;\n};\n\n/**\n * Select nodes that cause `expr(node)`\n * to be falsy\n *\n * @param {Number|String|Function} expr\n * @return {Iterator} self\n * @api public\n */\n\nIterator.prototype.reject = function(expr) {\n  expr = this.compile(expr);\n  this._rejects.push(expr);\n  return this;\n};\n\n/**\n * Run through the reject expressions ANDing each\n *\n * @param {Node} node\n * @param {Boolean} peek\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.rejects = function(node, peek) {\n  var exprs = this._rejects;\n  var len = exprs.length;\n  if (!len) return true;\n\n  for (var i = 0; i < len; i++) {\n    if (exprs[i].call(this, node, peek)) return false;\n  };\n\n  return true;\n};\n\n/**\n * Check if node is higher\n * than root.\n *\n * @param {Node} node\n * @param {Node} root\n * @return {Boolean}\n * @api private\n */\n\nIterator.prototype.higher = function(node) {\n  var root = this.root;\n  if (!root) return false;\n  node = node.parentNode;\n  while (node && node != root) node = node.parentNode;\n  return node != root;\n};\n\n/**\n * Compile an expression\n *\n * @param {String|Function|Number} expr\n * @return {Function}\n */\n\nIterator.prototype.compile = function(expr) {\n  switch (typeof expr) {\n    case 'number':\n      return function(node) { return expr == node.nodeType; };\n    case 'string':\n      return new Function('node', 'return ' + props(expr, 'node.'));\n    case 'function':\n      return expr;\n    default:\n      return function() { return true; };\n  }\n};\n\n/**\n * Peek in either direction\n * `n` nodes. Peek backwards\n * using negative numbers.\n *\n * @param {Number} n (optional)\n * @return {Node|null}\n * @api public\n */\n\nIterator.prototype.peak =\nIterator.prototype.peek = function(expr, n) {\n  if (arguments.length == 1) n = expr, expr = true;\n  n = undefined == n ? 1 : n;\n  if (!n) return this.node;\n  else if (n > 0) return this.next(expr, n, true);\n  else return this.prev(expr, Math.abs(n), true);\n};\n\n/**\n * Add a plugin\n *\n * @param {Function} fn\n * @return {Iterator}\n * @api public\n */\n\nIterator.prototype.use = function(fn) {\n  fn(this);\n  return this;\n};\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","Iterator","node","root","start","peeked","closingTag","_revisit","_selects","_rejects","higher","Error","traverse","dir","child","next","walk","expr","n","peek","compile","closing","revisit","xor","nodeType","parentNode","selects","rejects","props","prototype","reset","Iterator.prototype.reset","Iterator.prototype.revisit","undefined","opening","Iterator.prototype.opening","atOpening","Iterator.prototype.atOpening","Iterator.prototype.closing","atClosing","Iterator.prototype.atClosing","previous","prev","select","Iterator.prototype.select","push","Iterator.prototype.selects","exprs","len","length","i","call","reject","Iterator.prototype.reject","Iterator.prototype.rejects","Iterator.prototype.higher","Iterator.prototype.compile","Function","peak","Iterator.prototype.peek","arguments","Math","abs","use","Iterator.prototype.use","fn"]
}
