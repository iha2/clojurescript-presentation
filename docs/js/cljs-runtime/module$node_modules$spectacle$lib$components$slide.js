shadow$provide.module$node_modules$spectacle$lib$components$slide=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj$jscomp$0){_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj$jscomp$0)}function _objectSpread(target){for(var i=
1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"===typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})));ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=
descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};
return _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};
return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _react=_interopRequireDefault(require("module$node_modules$react$index"));
global=_interopRequireDefault(require("module$node_modules$prop_types$index"));var _isUndefined=_interopRequireDefault(require("module$node_modules$lodash$isUndefined")),_isFunction=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),_base=require("module$node_modules$spectacle$lib$utils$base"),_slideComponents=require("module$node_modules$spectacle$lib$components$slide_components"),_stepCounter=_interopRequireDefault(require("module$node_modules$spectacle$lib$utils$step_counter")),
_actions=require("module$node_modules$spectacle$lib$actions$index");require=function(_React$PureComponent){function Slide(){if(!(this instanceof Slide))throw new TypeError("Cannot call a class as a function");var _this=_getPrototypeOf(Slide).apply(this,arguments);_this=!_this||"object"!==_typeof(_this)&&"function"!==typeof _this?_assertThisInitialized(this):_this;_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"state",{contentScale:1,reverse:!1,transitioning:!0,z:1,zoom:1});
_this.stepCounter=(0,_stepCounter.default)();_this.setZoom=_this.setZoom.bind(_assertThisInitialized(_assertThisInitialized(_this)));return _this}_inherits(Slide,_React$PureComponent);_createClass(Slide,[{key:"getChildContext",value:function(){return{stepCounter:{setFragments:this.stepCounter.setFragments},slideHash:this.props.hash}}},{key:"componentDidMount",value:function(){var _this2=this;this.setZoom();var frags=this.slideRef.querySelectorAll(".fragment"),currentOrder=0;frags&&frags.length&&!this.context.overview&&
Array.prototype.slice.call(frags,0).sort(function(lhs,rhs){return parseInt(lhs.dataset.order,10)-parseInt(rhs.dataset.order,10)}).forEach(function(frag){frag.dataset.fid=currentOrder;_this2.props.dispatch&&_this2.props.dispatch((0,_actions.addFragment)({className:frag.className||"",slide:_this2.props.hash,id:"".concat(_this2.props.hash,"-").concat(currentOrder),animations:Array.from({length:frag.dataset.animCount}).fill(_this2.props.lastSlideIndex>_this2.props.slideIndex)}));currentOrder+=1});window.addEventListener("load",
this.setZoom);window.addEventListener("resize",this.setZoom);if((0,_isFunction.default)(this.props.onActive))this.props.onActive(this.props.slideIndex);this.props.getAppearStep&&console.warn("getAppearStep has been deprecated, use getAnimStep instead")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("load",this.setZoom);window.removeEventListener("resize",this.setZoom)}},{key:"componentDidUpdate",value:function(){var _this$stepCounter$get=this.stepCounter.getSteps(),steps=
_this$stepCounter$get.steps;_this$stepCounter$get=_this$stepCounter$get.slideIndex;var stepFunc=this.props.getAnimStep||this.props.getAppearStep;stepFunc&&_this$stepCounter$get===this.props.slideIndex&&stepFunc(steps)}},{key:"setZoom",value:function(){var mobile=window.matchMedia("(max-width: 628px)").matches,content=this.contentRef;if(content){var zoom=this.props.viewerScaleMode?1:content.offsetWidth/this.context.contentWidth;content=Math.min(content.parentNode.offsetHeight/this.context.contentHeight,
this.props.viewerScaleMode?content.parentNode.offsetWidth/this.context.contentWidth:content.parentNode.offsetWidth/this.context.contentHeight);content=1>content?content:1;mobile&&!0!==this.props.viewerScaleMode&&(content=1);this.setState({zoom:.6<zoom?zoom:.6,contentScale:content})}}},{key:"render",value:function(){var _this3=this,_this$props=this.props,presenterStyle=_this$props.presenterStyle;_this$props=_this$props.children;var contentClass=(0,_isUndefined.default)(this.props.className)?"":this.props.className;
return _react.default.createElement(_slideComponents.SlideContainer,{className:"spectacle-slide",innerRef:function(s){_this3.slideRef=s},exportMode:this.props.export,printMode:this.props.print,background:this.context.styles.global.body.background,styles:{base:_base.getStyles.call(this),presenter:presenterStyle}},_react.default.createElement(_slideComponents.SlideContentWrapper,{align:this.props.align,overviewMode:this.context.overview},_react.default.createElement(_slideComponents.SlideContent,{innerRef:function(c){_this3.contentRef=
c},className:"".concat(contentClass," spectacle-content"),overviewMode:this.context.overview,width:this.context.contentWidth,height:this.context.contentHeight,scale:this.state.contentScale,zoom:this.state.zoom,margin:this.props.margin,style:_objectSpread({},this.props.contentStyles||{}),styles:{context:this.context.styles.components.content}},_this$props)))}}]);return Slide}(_react.default.PureComponent);require.defaultProps={align:"center center",presenterStyle:{},style:{},viewerScaleMode:!1};require.propTypes=
{align:global.default.string,children:global.default.node,className:global.default.string,dispatch:global.default.func,export:global.default.bool,getAnimStep:global.default.func,getAppearStep:global.default.func,hash:global.default.oneOfType([global.default.number,global.default.string]),lastSlideIndex:global.default.number,margin:global.default.number,notes:global.default.any,onActive:global.default.func,presenterStyle:global.default.object,print:global.default.bool,slideIndex:global.default.number,
slideReference:global.default.array,style:global.default.object,transition:global.default.array,transitionDuration:global.default.number,transitionIn:global.default.array,transitionOut:global.default.array,viewerScaleMode:global.default.bool};require.contextTypes={styles:global.default.object,contentWidth:global.default.number,contentHeight:global.default.number,export:global.default.bool,print:global.default.object,overview:global.default.bool,store:global.default.object};require.childContextTypes=
{slideHash:global.default.oneOfType([global.default.number,global.default.string]),stepCounter:global.default.shape({setFragments:global.default.func})};exports.default=require}
//# sourceMappingURL=module$node_modules$spectacle$lib$components$slide.js.map
