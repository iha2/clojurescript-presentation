shadow$provide.module$node_modules$victory_core$lib$victory_util$transitions=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getKeyedData(data){return data.reduce(function(keyedData,datum,idx){keyedData[(datum.key||idx).toString()]=datum;return keyedData},{})}function getKeyedDataDifference(a,b){var hasDifference=!1;a=Object.keys(a).reduce(function(_difference,key){key in b||(hasDifference=!0,_difference[key]=
!0);return _difference},{});return hasDifference&&a}function getChildData(child){return child.type&&child.type.getData?child.type.getData(child.props):child.props&&child.props.data||!1}function getInitialChildProps(animate,data){var after=animate.onEnter&&animate.onEnter.after?animate.onEnter.after:_identity3.default;return{data:data.map(function(datum){return(0,_assign3.default)({},datum,after(datum))})}}function getChildBeforeLoad(animate,child,data,cb){if((animate=(0,_assign3.default)({},animate,
{onEnd:cb}))&&animate.onLoad&&!animate.onLoad.duration)return{animate:animate,data:data};var before=animate.onLoad&&animate.onLoad.before?animate.onLoad.before:_identity3.default;data=data.map(function(datum){return(0,_assign3.default)({},datum,before(datum))});return{animate:animate,data:data,clipWidth:0}}function getChildOnLoad(animate,data,cb){if((animate=(0,_assign3.default)({},animate,{onEnd:cb}))&&animate.onLoad&&!animate.onLoad.duration)return{animate:animate,data:data};var after=animate.onLoad&&
animate.onLoad.after?animate.onLoad.after:_identity3.default;data=data.map(function(datum){return(0,_assign3.default)({},datum,after(datum))});return{animate:animate,data:data}}function getChildPropsOnExit(animate,child,data,exitingNodes,cb){child=animate&&animate.onExit;animate=(0,_assign3.default)({},animate,child);if(exitingNodes){animate.onEnd=cb;var before=animate.onExit&&animate.onExit.before?animate.onExit.before:_identity3.default;data=data.map(function(datum,idx){return exitingNodes[(datum.key||
idx).toString()]?(0,_assign3.default)({},datum,before(datum)):datum})}return{animate:animate,data:data}}function getChildPropsBeforeEnter(animate,child,data,enteringNodes,cb){if(enteringNodes){animate=(0,_assign3.default)({},animate,{onEnd:cb});var before=animate.onEnter&&animate.onEnter.before?animate.onEnter.before:_identity3.default;data=data.map(function(datum,idx){return enteringNodes[(datum.key||idx).toString()]?(0,_assign3.default)({},datum,before(datum)):datum})}return{animate:animate,data:data}}
function getChildPropsOnEnter(animate,data,enteringNodes,cb){var onEnter=animate&&animate.onEnter;animate=(0,_assign3.default)({},animate,onEnter);if(enteringNodes){animate.onEnd=cb;var after=animate.onEnter&&animate.onEnter.after?animate.onEnter.after:_identity3.default;data=data.map(function(datum,idx){return enteringNodes[(datum.key||idx).toString()]?(0,_assign3.default)({},datum,after(datum)):datum})}return{animate:animate,data:data}}Object.defineProperty(exports,"__esModule",{value:!0});global=
require("module$node_modules$lodash$identity");var _identity3=_interopRequireDefault(global);global=require("module$node_modules$lodash$defaults");var _defaults3=_interopRequireDefault(global);global=require("module$node_modules$lodash$assign");var _assign3=_interopRequireDefault(global);require=require("module$node_modules$react$index");var _react2=_interopRequireDefault(require);exports.default={getInitialTransitionState:function(oldChildren,nextChildren){var nodesWillExit=!1,nodesWillEnter=!1;
oldChildren=function getTransitionsFromChildren(old,next){return old.map(function(child,idx){if(child&&child.props&&child.props.children)return getTransitionsFromChildren(_react2.default.Children.toArray(old[idx].props.children),_react2.default.Children.toArray(next[idx].props.children));if((idx=next[idx])&&child.type===idx.type){child=getChildData(child);idx=getChildData(idx);child=child&&getKeyedData(child);var nextDataKeyed=idx&&getKeyedData(idx);idx=child&&getKeyedDataDifference(nextDataKeyed,
child);child=nextDataKeyed&&getKeyedDataDifference(child,nextDataKeyed);nodesWillExit=nodesWillExit||!!child;nodesWillEnter=nodesWillEnter||!!idx;child={entering:idx||!1,exiting:child||!1}}else child={};return child})}(_react2.default.Children.toArray(oldChildren),_react2.default.Children.toArray(nextChildren));return{nodesWillExit:nodesWillExit,nodesWillEnter:nodesWillEnter,childrenTransitions:oldChildren,nodesShouldEnter:!1}},getTransitionPropsFactory:function(props,state,setState){var nodesWillExit=
state&&state.nodesWillExit,nodesWillEnter=state&&state.nodesWillEnter,nodesShouldEnter=state&&state.nodesShouldEnter,nodesShouldLoad=state&&state.nodesShouldLoad,nodesDoneLoad=state&&state.nodesDoneLoad,childrenTransitions=state&&state.childrenTransitions||[],JSCompiler_object_inline_enter_1987=props.animate&&props.animate.onEnter&&props.animate.onEnter.duration,JSCompiler_object_inline_exit_1988=props.animate&&props.animate.onExit&&props.animate.onExit.duration,JSCompiler_object_inline_load_1989=
props.animate&&props.animate.onLoad&&props.animate.onLoad.duration,JSCompiler_object_inline_move_1990=props.animate&&props.animate.duration,onLoad=function(child,data,animate){return nodesShouldLoad?getChildOnLoad(animate,data,function(){setState({nodesShouldLoad:!1,nodesDoneLoad:!0})}):getChildBeforeLoad(animate,child,data,function(){setState({nodesDoneLoad:!0})})},onExit=function(nodes,child,data,animate){return getChildPropsOnExit(animate,child,data,nodes,function(){setState({nodesWillExit:!1})})},
onEnter=function(nodes,child,data,animate){return nodesShouldEnter?getChildPropsOnEnter(animate,data,nodes,function(){setState({nodesWillEnter:!1})}):getChildPropsBeforeEnter(animate,child,data,nodes,function(){setState({nodesShouldEnter:!0})})},getChildTransitionDuration=function(child,type){var animate=child.props.animate;return(child=child.type&&child.type.defaultTransitions)?(animate=animate[type]&&animate[type].duration,void 0!==animate?animate:child[type]&&child[type].duration):{}};return function(child,
index){var data=getChildData(child)||[],animate=(0,_defaults3.default)({},props.animate,child.props.animate);animate.onExit=(0,_defaults3.default)({},animate.onExit,child.type.defaultTransitions&&child.type.defaultTransitions.onExit);animate.onEnter=(0,_defaults3.default)({},animate.onEnter,child.type.defaultTransitions&&child.type.defaultTransitions.onEnter);animate.onLoad=(0,_defaults3.default)({},animate.onLoad,child.type.defaultTransitions&&child.type.defaultTransitions.onLoad);index=childrenTransitions[index]||
childrenTransitions[0];if(nodesDoneLoad){if(nodesWillExit){index=index&&index.exiting;var exit=void 0!==JSCompiler_object_inline_exit_1988?JSCompiler_object_inline_exit_1988:getChildTransitionDuration(child,"onExit");exit=index?{duration:exit}:{delay:exit};return onExit(index,child,data,(0,_assign3.default)({},animate,exit))}if(nodesWillEnter){index=index&&index.entering;exit=void 0!==JSCompiler_object_inline_enter_1987?JSCompiler_object_inline_enter_1987:getChildTransitionDuration(child,"onEnter");
var move=void 0!==JSCompiler_object_inline_move_1990?JSCompiler_object_inline_move_1990:child.props.animate&&child.props.animate.duration;exit={duration:nodesShouldEnter&&index?exit:move};return onEnter(index,child,data,(0,_assign3.default)({},animate,exit))}if(!state&&animate&&animate.onExit)return getInitialChildProps(animate,data)}else return index={duration:void 0!==JSCompiler_object_inline_load_1989?JSCompiler_object_inline_load_1989:getChildTransitionDuration(child,"onLoad")},onLoad(child,data,
(0,_assign3.default)({},animate,index));return{animate:animate,data:data}}}}}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_util$transitions.js.map
