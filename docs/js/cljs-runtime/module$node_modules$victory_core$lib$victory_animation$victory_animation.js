shadow$provide.module$node_modules$victory_core$lib$victory_animation$victory_animation=function(global,process,require,module,exports,shadow$shims){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=
!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();global=require("module$node_modules$react$index");global=_interopRequireDefault(global);process=require("module$node_modules$prop_types$index");process=_interopRequireDefault(process);var d3Ease=function(obj){if(obj&&
obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);newObj.default=obj;return newObj}(require("module$node_modules$d3_ease$dist$d3_ease")),_util=require("module$node_modules$victory_core$lib$victory_animation$util");require=require("module$node_modules$victory_core$lib$victory_util$timer");var _timer2=_interopRequireDefault(require);require=function(_React$Component){function VictoryAnimation(props){if(!(this instanceof
VictoryAnimation))throw new TypeError("Cannot call a class as a function");props=(VictoryAnimation.__proto__||Object.getPrototypeOf(VictoryAnimation)).call(this,props);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");props=!props||"object"!==typeof props&&"function"!==typeof props?this:props;props.state={data:Array.isArray(props.props.data)?props.props.data[0]:props.props.data,animationInfo:{progress:0,animating:!1}};props.interpolator=null;props.queue=
Array.isArray(props.props.data)?props.props.data.slice(1):[];props.ease=d3Ease[props.toNewName(props.props.easing)];props.functionToBeRunEachFrame=props.functionToBeRunEachFrame.bind(props);props.getTimer=props.getTimer.bind(props);return props}_inherits(VictoryAnimation,_React$Component);_createClass(VictoryAnimation,[{key:"componentDidMount",value:function(){this.queue.length&&this.traverseQueue()}},{key:"componentWillReceiveProps",value:function(nextProps){this.getTimer().unsubscribe(this.loopID);
if(Array.isArray(nextProps.data)){var _queue;(_queue=this.queue).push.apply(_queue,_toConsumableArray(nextProps.data))}else this.queue.length=0,this.queue.push(nextProps.data);this.traverseQueue()}},{key:"componentWillUnmount",value:function(){this.loopID?this.getTimer().unsubscribe(this.loopID):this.getTimer().stop()}},{key:"getTimer",value:function(){if(this.context.getTimer)return this.context.getTimer();this.timer||(this.timer=new _timer2.default);return this.timer}},{key:"toNewName",value:function(ease){return"ease"+
(ease&&ease[0].toUpperCase()+ease.slice(1))}},{key:"traverseQueue",value:function(){var _this2=this;if(this.queue.length){var data=this.queue[0];this.interpolator=(0,_util.victoryInterpolator)(this.state.data,data);this.props.delay?setTimeout(function(){_this2.loopID=_this2.getTimer().subscribe(_this2.functionToBeRunEachFrame,_this2.props.duration)},this.props.delay):this.loopID=this.getTimer().subscribe(this.functionToBeRunEachFrame,this.props.duration)}else if(this.props.onEnd)this.props.onEnd()}},
{key:"functionToBeRunEachFrame",value:function(elapsed,duration){elapsed=(duration=void 0!==duration?duration:this.props.duration)?elapsed/duration:1;1<=elapsed?(this.setState({data:this.interpolator(1),animationInfo:{progress:1,animating:!1}}),this.loopID&&this.getTimer().unsubscribe(this.loopID),this.queue.shift(),this.traverseQueue()):this.setState({data:this.interpolator(this.ease(elapsed)),animationInfo:{progress:elapsed,animating:1>elapsed}})}},{key:"render",value:function(){return this.props.children(this.state.data,
this.state.animationInfo)}}]);return VictoryAnimation}(global.default.Component);require.displayName="VictoryAnimation";require.propTypes={children:process.default.func,data:process.default.oneOfType([process.default.object,process.default.array]),delay:process.default.number,duration:process.default.number,easing:process.default.oneOf("back backIn backOut backInOut bounce bounceIn bounceOut bounceInOut circle circleIn circleOut circleInOut linear linearIn linearOut linearInOut cubic cubicIn cubicOut cubicInOut elastic elasticIn elasticOut elasticInOut exp expIn expOut expInOut poly polyIn polyOut polyInOut quad quadIn quadOut quadInOut sin sinIn sinOut sinInOut".split(" ")),
onEnd:process.default.func};require.defaultProps={data:{},delay:0,duration:1E3,easing:"quadInOut"};require.contextTypes={getTimer:process.default.func};exports.default=require}
//# sourceMappingURL=module$node_modules$victory_core$lib$victory_animation$victory_animation.js.map
